/*
 * @Author: chenzhongsheng
 * @Date: 2022-11-21 19:51:39
 * @Description: Coding something
 * @LastEditors: chenzhongsheng
 * @LastEditTime: 2022-11-21 19:53:46
 */
var WebosTerm = (function (R) {
  'use strict';
  function S() {
    S = function () {
      return a;
    };
    var a = {},
      t = Object.prototype,
      c = t.hasOwnProperty,
      e = 'function' == typeof Symbol ? Symbol : {},
      r = e.iterator || '@@iterator',
      n = e.asyncIterator || '@@asyncIterator',
      i = e.toStringTag || '@@toStringTag';
    function o(t, e, n) {
      return (
        Object.defineProperty(t, e, {
          value: n,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        }),
        t[e]
      );
    }
    try {
      o({}, '');
    } catch (t) {
      o = function (t, e, n) {
        return (t[e] = n);
      };
    }
    function u(t, e, n, r) {
      var i,
        o,
        a,
        u,
        e = e && e.prototype instanceof f ? e : f,
        e = Object.create(e.prototype),
        r = new w(r || []);
      return (
        (e._invoke =
          ((i = t),
          (o = n),
          (a = r),
          (u = 'suspendedStart'),
          function (t, e) {
            if ('executing' === u)
              throw new Error('Generator is already running');
            if ('completed' === u) {
              if ('throw' === t) throw e;
              return k();
            }
            for (a.method = t, a.arg = e; ; ) {
              var n = a.delegate;
              if (n) {
                n = (function t(e, n) {
                  var r = e.iterator[n.method];
                  if (void 0 === r) {
                    if (((n.delegate = null), 'throw' === n.method)) {
                      if (
                        e.iterator.return &&
                        ((n.method = 'return'),
                        (n.arg = void 0),
                        t(e, n),
                        'throw' === n.method)
                      )
                        return l;
                      (n.method = 'throw'),
                        (n.arg = new TypeError(
                          "The iterator does not provide a 'throw' method"
                        ));
                    }
                    return l;
                  }
                  r = s(r, e.iterator, n.arg);
                  if ('throw' === r.type)
                    return (
                      (n.method = 'throw'),
                      (n.arg = r.arg),
                      (n.delegate = null),
                      l
                    );
                  r = r.arg;
                  return r
                    ? r.done
                      ? ((n[e.resultName] = r.value),
                        (n.next = e.nextLoc),
                        'return' !== n.method &&
                          ((n.method = 'next'), (n.arg = void 0)),
                        (n.delegate = null),
                        l)
                      : r
                    : ((n.method = 'throw'),
                      (n.arg = new TypeError(
                        'iterator result is not an object'
                      )),
                      (n.delegate = null),
                      l);
                })(n, a);
                if (n) {
                  if (n === l) continue;
                  return n;
                }
              }
              if ('next' === a.method) a.sent = a._sent = a.arg;
              else if ('throw' === a.method) {
                if ('suspendedStart' === u) throw ((u = 'completed'), a.arg);
                a.dispatchException(a.arg);
              } else 'return' === a.method && a.abrupt('return', a.arg);
              u = 'executing';
              n = s(i, o, a);
              if ('normal' === n.type) {
                if (
                  ((u = a.done ? 'completed' : 'suspendedYield'), n.arg === l)
                )
                  continue;
                return { value: n.arg, done: a.done };
              }
              'throw' === n.type &&
                ((u = 'completed'), (a.method = 'throw'), (a.arg = n.arg));
            }
          })),
        e
      );
    }
    function s(t, e, n) {
      try {
        return { type: 'normal', arg: t.call(e, n) };
      } catch (t) {
        return { type: 'throw', arg: t };
      }
    }
    a.wrap = u;
    var l = {};
    function f() {}
    function h() {}
    function p() {}
    var e = {},
      d =
        (o(e, r, function () {
          return this;
        }),
        Object.getPrototypeOf),
      d = d && d(d(x([]))),
      v =
        (d && d !== t && c.call(d, r) && (e = d),
        (p.prototype = f.prototype = Object.create(e)));
    function y(t) {
      ['next', 'throw', 'return'].forEach(function (e) {
        o(t, e, function (t) {
          return this._invoke(e, t);
        });
      });
    }
    function m(a, u) {
      var e;
      this._invoke = function (n, r) {
        function t() {
          return new u(function (t, e) {
            !(function e(t, n, r, i) {
              var o,
                t = s(a[t], a, n);
              if ('throw' !== t.type)
                return (n = (o = t.arg).value) &&
                  'object' == typeof n &&
                  c.call(n, '__await')
                  ? u.resolve(n.__await).then(
                      function (t) {
                        e('next', t, r, i);
                      },
                      function (t) {
                        e('throw', t, r, i);
                      }
                    )
                  : u.resolve(n).then(
                      function (t) {
                        (o.value = t), r(o);
                      },
                      function (t) {
                        return e('throw', t, r, i);
                      }
                    );
              i(t.arg);
            })(n, r, t, e);
          });
        }
        return (e = e ? e.then(t, t) : t());
      };
    }
    function g(t) {
      var e = { tryLoc: t[0] };
      1 in t && (e.catchLoc = t[1]),
        2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
        this.tryEntries.push(e);
    }
    function b(t) {
      var e = t.completion || {};
      (e.type = 'normal'), delete e.arg, (t.completion = e);
    }
    function w(t) {
      (this.tryEntries = [{ tryLoc: 'root' }]),
        t.forEach(g, this),
        this.reset(!0);
    }
    function x(e) {
      if (e) {
        var n,
          t = e[r];
        if (t) return t.call(e);
        if ('function' == typeof e.next) return e;
        if (!isNaN(e.length))
          return (
            (n = -1),
            ((t = function t() {
              for (; ++n < e.length; )
                if (c.call(e, n)) return (t.value = e[n]), (t.done = !1), t;
              return (t.value = void 0), (t.done = !0), t;
            }).next = t)
          );
      }
      return { next: k };
    }
    function k() {
      return { value: void 0, done: !0 };
    }
    return (
      o(v, 'constructor', (h.prototype = p)),
      o(p, 'constructor', h),
      (h.displayName = o(p, i, 'GeneratorFunction')),
      (a.isGeneratorFunction = function (t) {
        t = 'function' == typeof t && t.constructor;
        return (
          !!t && (t === h || 'GeneratorFunction' === (t.displayName || t.name))
        );
      }),
      (a.mark = function (t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, p)
            : ((t.__proto__ = p), o(t, i, 'GeneratorFunction')),
          (t.prototype = Object.create(v)),
          t
        );
      }),
      (a.awrap = function (t) {
        return { __await: t };
      }),
      y(m.prototype),
      o(m.prototype, n, function () {
        return this;
      }),
      (a.AsyncIterator = m),
      (a.async = function (t, e, n, r, i) {
        void 0 === i && (i = Promise);
        var o = new m(u(t, e, n, r), i);
        return a.isGeneratorFunction(e)
          ? o
          : o.next().then(function (t) {
              return t.done ? t.value : o.next();
            });
      }),
      y(v),
      o(v, i, 'Generator'),
      o(v, r, function () {
        return this;
      }),
      o(v, 'toString', function () {
        return '[object Generator]';
      }),
      (a.keys = function (n) {
        var t,
          r = [];
        for (t in n) r.push(t);
        return (
          r.reverse(),
          function t() {
            for (; r.length; ) {
              var e = r.pop();
              if (e in n) return (t.value = e), (t.done = !1), t;
            }
            return (t.done = !0), t;
          }
        );
      }),
      (a.values = x),
      (w.prototype = {
        constructor: w,
        reset: function (t) {
          if (
            ((this.prev = 0),
            (this.next = 0),
            (this.sent = this._sent = void 0),
            (this.done = !1),
            (this.delegate = null),
            (this.method = 'next'),
            (this.arg = void 0),
            this.tryEntries.forEach(b),
            !t)
          )
            for (var e in this)
              't' === e.charAt(0) &&
                c.call(this, e) &&
                !isNaN(+e.slice(1)) &&
                (this[e] = void 0);
        },
        stop: function () {
          this.done = !0;
          var t = this.tryEntries[0].completion;
          if ('throw' === t.type) throw t.arg;
          return this.rval;
        },
        dispatchException: function (n) {
          if (this.done) throw n;
          var r = this;
          function t(t, e) {
            return (
              (o.type = 'throw'),
              (o.arg = n),
              (r.next = t),
              e && ((r.method = 'next'), (r.arg = void 0)),
              !!e
            );
          }
          for (var e = this.tryEntries.length - 1; 0 <= e; --e) {
            var i = this.tryEntries[e],
              o = i.completion;
            if ('root' === i.tryLoc) return t('end');
            if (i.tryLoc <= this.prev) {
              var a = c.call(i, 'catchLoc'),
                u = c.call(i, 'finallyLoc');
              if (a && u) {
                if (this.prev < i.catchLoc) return t(i.catchLoc, !0);
                if (this.prev < i.finallyLoc) return t(i.finallyLoc);
              } else if (a) {
                if (this.prev < i.catchLoc) return t(i.catchLoc, !0);
              } else {
                if (!u)
                  throw new Error('try statement without catch or finally');
                if (this.prev < i.finallyLoc) return t(i.finallyLoc);
              }
            }
          }
        },
        abrupt: function (t, e) {
          for (var n = this.tryEntries.length - 1; 0 <= n; --n) {
            var r = this.tryEntries[n];
            if (
              r.tryLoc <= this.prev &&
              c.call(r, 'finallyLoc') &&
              this.prev < r.finallyLoc
            ) {
              var i = r;
              break;
            }
          }
          var o = (i =
            i &&
            ('break' === t || 'continue' === t) &&
            i.tryLoc <= e &&
            e <= i.finallyLoc
              ? null
              : i)
            ? i.completion
            : {};
          return (
            (o.type = t),
            (o.arg = e),
            i
              ? ((this.method = 'next'), (this.next = i.finallyLoc), l)
              : this.complete(o)
          );
        },
        complete: function (t, e) {
          if ('throw' === t.type) throw t.arg;
          return (
            'break' === t.type || 'continue' === t.type
              ? (this.next = t.arg)
              : 'return' === t.type
              ? ((this.rval = this.arg = t.arg),
                (this.method = 'return'),
                (this.next = 'end'))
              : 'normal' === t.type && e && (this.next = e),
            l
          );
        },
        finish: function (t) {
          for (var e = this.tryEntries.length - 1; 0 <= e; --e) {
            var n = this.tryEntries[e];
            if (n.finallyLoc === t)
              return this.complete(n.completion, n.afterLoc), b(n), l;
          }
        },
        catch: function (t) {
          for (var e = this.tryEntries.length - 1; 0 <= e; --e) {
            var n,
              r,
              i = this.tryEntries[e];
            if (i.tryLoc === t)
              return (
                'throw' === (n = i.completion).type && ((r = n.arg), b(i)), r
              );
          }
          throw new Error('illegal catch attempt');
        },
        delegateYield: function (t, e, n) {
          return (
            (this.delegate = { iterator: x(t), resultName: e, nextLoc: n }),
            'next' === this.method && (this.arg = void 0),
            l
          );
        },
      }),
      a
    );
  }
  function v(t) {
    return (v =
      'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              'function' == typeof Symbol &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          })(t);
  }
  function a(t, e) {
    if (!(t instanceof e))
      throw new TypeError('Cannot call a class as a function');
  }
  function F(t, e) {
    for (var n = 0; n < e.length; n++) {
      var r = e[n];
      (r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        'value' in r && (r.writable = !0),
        Object.defineProperty(t, r.key, r);
    }
  }
  function u(t, e, n) {
    return (
      e && F(t.prototype, e),
      n && F(t, n),
      Object.defineProperty(t, 'prototype', { writable: !1 }),
      t
    );
  }
  function c(t, e) {
    if ('function' != typeof e && null !== e)
      throw new TypeError('Super expression must either be null or a function');
    (t.prototype = Object.create(e && e.prototype, {
      constructor: { value: t, writable: !0, configurable: !0 },
    })),
      Object.defineProperty(t, 'prototype', { writable: !1 }),
      e && z(t, e);
  }
  function B(t) {
    return (B = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (t) {
          return t.__proto__ || Object.getPrototypeOf(t);
        })(t);
  }
  function z(t, e) {
    return (z = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (t, e) {
          return (t.__proto__ = e), t;
        })(t, e);
  }
  function U(t) {
    if (void 0 === t)
      throw new ReferenceError(
        "this hasn't been initialised - super() hasn't been called"
      );
    return t;
  }
  function M(t, e) {
    if (e && ('object' == typeof e || 'function' == typeof e)) return e;
    if (void 0 !== e)
      throw new TypeError(
        'Derived constructors may only return object or undefined'
      );
    return U(t);
  }
  function s(n) {
    var r = (function () {
      if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
      if (Reflect.construct.sham) return !1;
      if ('function' == typeof Proxy) return !0;
      try {
        return (
          Boolean.prototype.valueOf.call(
            Reflect.construct(Boolean, [], function () {})
          ),
          !0
        );
      } catch (t) {
        return !1;
      }
    })();
    return function () {
      var t,
        e = B(n);
      return M(
        this,
        r
          ? ((t = B(this).constructor), Reflect.construct(e, arguments, t))
          : e.apply(this, arguments)
      );
    };
  }
  function q(t, e) {
    return (
      (e = e || t.slice(0)),
      Object.freeze(
        Object.defineProperties(t, { raw: { value: Object.freeze(e) } })
      )
    );
  }
  function W(t, e) {
    return (
      (function (t) {
        if (Array.isArray(t)) return t;
      })(t) ||
      (function (t, e) {
        var n =
          null == t
            ? null
            : ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
              t['@@iterator'];
        if (null != n) {
          var r,
            i,
            o = [],
            a = !0,
            u = !1;
          try {
            for (
              n = n.call(t);
              !(a = (r = n.next()).done) &&
              (o.push(r.value), !e || o.length !== e);
              a = !0
            );
          } catch (t) {
            (u = !0), (i = t);
          } finally {
            try {
              a || null == n.return || n.return();
            } finally {
              if (u) throw i;
            }
          }
          return o;
        }
      })(t, e) ||
      H(t, e) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  function $(t) {
    return (
      (function (t) {
        if (Array.isArray(t)) return G(t);
      })(t) ||
      (function (t) {
        if (
          ('undefined' != typeof Symbol && null != t[Symbol.iterator]) ||
          null != t['@@iterator']
        )
          return Array.from(t);
      })(t) ||
      H(t) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  function H(t, e) {
    if (t) {
      if ('string' == typeof t) return G(t, e);
      var n = Object.prototype.toString.call(t).slice(8, -1);
      return 'Map' ===
        (n = 'Object' === n && t.constructor ? t.constructor.name : n) ||
        'Set' === n
        ? Array.from(t)
        : 'Arguments' === n ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
        ? G(t, e)
        : void 0;
    }
  }
  function G(t, e) {
    (null == e || e > t.length) && (e = t.length);
    for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
    return r;
  }
  function t(t, e, n, r) {
    var i,
      o = arguments.length,
      a =
        o < 3
          ? e
          : null === r
          ? (r = Object.getOwnPropertyDescriptor(e, n))
          : r;
    if ('object' == typeof Reflect && 'function' == typeof Reflect.decorate)
      a = Reflect.decorate(t, e, n, r);
    else
      for (var u = t.length - 1; 0 <= u; u--)
        (i = t[u]) && (a = (o < 3 ? i(a) : 3 < o ? i(e, n, a) : i(e, n)) || a);
    3 < o && a && Object.defineProperty(e, n, a);
  }
  function l(t, a, u, c) {
    return new (u = u || Promise)(function (n, e) {
      function r(t) {
        try {
          o(c.next(t));
        } catch (t) {
          e(t);
        }
      }
      function i(t) {
        try {
          o(c.throw(t));
        } catch (t) {
          e(t);
        }
      }
      function o(t) {
        var e;
        t.done
          ? n(t.value)
          : ((e = t.value) instanceof u
              ? e
              : new u(function (t) {
                  t(e);
                })
            ).then(r, i);
      }
      o((c = c.apply(t, a || [])).next());
    });
  }
  function J(t) {
    for (var e, n = 0, r = 0; r < t.length; r++)
      (e = t.charCodeAt(r)) < 127
        ? (n += 1)
        : 128 <= e && e <= 2047
        ? (n += 2)
        : 2048 <= e && e <= 65535 && (n += 3);
    return n;
  }
  function V() {
    return (
      Date.now().toString().substring(3) +
      ((e = 999999), (t = 1e5) + Math.round(Math.random() * (e - t)))
    );
    var t, e;
  }
  var Q = new Map();
  function f(t) {
    var i,
      e = Q.get(t);
    return (
      e ||
        ((i = t),
        Q.set(
          t,
          (e = function () {
            for (var t = arguments.length, r = new Array(t), e = 0; e < t; e++)
              r[e] = arguments[e];
            return new Promise(function (e, n) {
              i.apply(
                void 0,
                r.concat([
                  function (t) {
                    e(t);
                  },
                  function (t) {
                    n(t), console.error(t);
                  },
                ])
              );
            });
          })
        )),
      e
    );
  }
  var e = { exports: {} },
    Y =
      (!(function (t, e) {
        var h;
        (self.URL = self.URL || self.webkitURL),
          (self.requestFileSystem =
            self.requestFileSystem || self.webkitRequestFileSystem),
          (self.resolveLocalFileSystemURL =
            self.resolveLocalFileSystemURL ||
            self.webkitResolveLocalFileSystemURL),
          (navigator.temporaryStorage =
            navigator.temporaryStorage || navigator.webkitTemporaryStorage),
          (navigator.persistentStorage =
            navigator.persistentStorage || navigator.webkitPersistentStorage),
          (self.BlobBuilder =
            self.BlobBuilder || self.MozBlobBuilder || self.WebKitBlobBuilder),
          void 0 === self.FileError &&
            ((h = function () {}).prototype.prototype = Error.prototype);
        function p(t) {
          (this.prototype = h.prototype),
            (this.code = t.code),
            (this.name = t.name);
        }
        var d = function (t) {
            return Array.prototype.slice.call(t || [], 0);
          },
          n =
            ((h.BROWSER_NOT_SUPPORTED = 1e3),
            h.prototype.__defineGetter__('name', function () {
              for (var t, e = Object.keys(h), n = 0; (t = e[n]); ++n)
                if (h[t] == this.code) return t;
              return 'Unknown Error';
            }),
            new (function () {
              function n(t) {
                return 0 == t.indexOf(e);
              }
              function a(t) {
                return (t = n(t)
                  ? t
                  : '/' == t[0]
                  ? l.root.toURL() + t.substring(1)
                  : (0 != t.indexOf('./') && 0 != t.indexOf('../')) ||
                    ('../' == t && f != l.root)
                  ? f.toURL() + '/' + t
                  : f.toURL() + t);
              }
              function c(n, t) {
                function r(t) {
                  throw t.code == h.NOT_FOUND_ERR
                    ? o
                      ? new Error('"' + e + '" or "' + o + '" does not exist.')
                      : new Error('"' + e + '" does not exist.')
                    : new Error('Problem getting Entry for one or more paths.');
                }
                var i,
                  e = t,
                  o = arguments[2],
                  t = a(e);
                3 == arguments.length
                  ? ((i = a(o)),
                    self.resolveLocalFileSystemURL(
                      t,
                      function (e) {
                        self.resolveLocalFileSystemURL(
                          i,
                          function (t) {
                            n(e, t);
                          },
                          r
                        );
                      },
                      r
                    ))
                  : self.resolveLocalFileSystemURL(t, n, r);
              }
              function o(t, e, n, r, i, o) {
                if (!l) throw new Error(s);
                if (v(t) != v(e))
                  throw new Error('These method arguments are not supported.');
                var a = n || null,
                  u = null != o && o;
                (t.isFile || e.isDirectory) && e.isDirectory
                  ? u
                    ? t.moveTo(e, a, r, i)
                    : t.copyTo(e, a, r, i)
                  : c(
                      function (t, e) {
                        if (!e.isDirectory) {
                          var n = new Error(
                            'Oops! "' + e.name + ' is not a directory!'
                          );
                          if (i) return void i(n);
                          throw n;
                        }
                        u ? t.moveTo(e, a, r, i) : t.copyTo(e, a, r, i);
                      },
                      t,
                      e
                    );
              }
              var s = 'Filesystem has not been initialized.',
                e = 'filesystem:',
                l = null,
                f = null,
                u = !1;
              function t(t) {
                (l = t || null) && ((f = l.root), (u = !0));
              }
              return (
                (t.DEFAULT_FS_SIZE = 1048576),
                (t.version = '0.4.3'),
                ((t.prototype = {
                  get fs() {
                    return l;
                  },
                  get isOpen() {
                    return u;
                  },
                  get cwd() {
                    return f;
                  },
                }).pathToFilesystemURL = a),
                (t.prototype.init = function (t, e, n) {
                  if (!self.requestFileSystem)
                    throw new p({
                      code: h.BROWSER_NOT_SUPPORTED,
                      name: 'BROWSER_NOT_SUPPORTED',
                    });
                  function r(t) {
                    (this.size = i), (f = (l = t).root), (u = !0), e && e(t);
                  }
                  var t = t || {},
                    i = t.size || 1048576;
                  (this.type = self.TEMPORARY),
                    'persistent' in t &&
                      t.persistent &&
                      (this.type = self.PERSISTENT);
                  this.type == self.PERSISTENT && navigator.persistentStorage
                    ? navigator.persistentStorage.requestQuota(
                        i,
                        function (t) {
                          self.requestFileSystem(this.type, t, r.bind(this), n);
                        }.bind(this),
                        n
                      )
                    : self.requestFileSystem(this.type, i, r.bind(this), n);
                }),
                (t.prototype.ls = function (t, i, o) {
                  if (!l) throw new Error(s);
                  function e(t) {
                    var n = [],
                      r = (f = t).createReader();
                    (function e() {
                      r.readEntries(function (t) {
                        t.length
                          ? ((n = n.concat(d(t))), e())
                          : (n.sort(function (t, e) {
                              return t.name < e.name
                                ? -1
                                : e.name < t.name
                                ? 1
                                : 0;
                            }),
                            i(n));
                      }, o);
                    })();
                  }
                  t.isDirectory
                    ? e(t)
                    : n(t)
                    ? c(e, t)
                    : f.getDirectory(t, {}, e, o);
                }),
                (t.prototype.mkdir = function (r, t, i, o) {
                  if (!l) throw new Error(s);
                  var a = null != t && t,
                    u = r.split('/');
                  (function e(t, n) {
                    ('.' != n[0] && '' != n[0]) || (n = n.slice(1)),
                      t.getDirectory(
                        n[0],
                        { create: !0, exclusive: a },
                        function (t) {
                          if (t.isDirectory)
                            n.length && 1 != u.length
                              ? e(t, n.slice(1))
                              : i && i(t);
                          else {
                            t = new Error(r + ' is not a directory');
                            if (!o) throw t;
                            o(t);
                          }
                        },
                        function (t) {
                          if (t.code == h.INVALID_MODIFICATION_ERR) {
                            if (
                              ((t.message = "'" + r + "' already exists"), !o)
                            )
                              throw t;
                            o(t);
                          }
                        }
                      );
                  })(f, u);
                }),
                (t.prototype.open = function (t, e, n) {
                  if (!l) throw new Error(s);
                  t.isFile
                    ? t.file(e, n)
                    : c(function (t) {
                        t.file(e, n);
                      }, a(t));
                }),
                (t.prototype.create = function (e, t, n, r) {
                  if (!l) throw new Error(s);
                  f.getFile(
                    e,
                    { create: !0, exclusive: null == t || t },
                    n,
                    function (t) {
                      if (
                        (t.code == h.INVALID_MODIFICATION_ERR &&
                          (t.message = "'" + e + "' already exists"),
                        !r)
                      )
                        throw t;
                      r(t);
                    }
                  );
                }),
                (t.prototype.mv = function (t, e, n, r, i) {
                  o.bind(this, t, e, n, r, i, !0)();
                }),
                (t.prototype.rm = function (t, e, n) {
                  if (!l) throw new Error(s);
                  function r(t) {
                    t.isFile
                      ? t.remove(e, n)
                      : t.isDirectory && t.removeRecursively(e, n);
                  }
                  t.isFile || t.isDirectory ? r(t) : c(r, t);
                }),
                (t.prototype.cd = function (t, e, n) {
                  if (!l) throw new Error(s);
                  t.isDirectory
                    ? ((f = t), e && e(f))
                    : ((t = a(t)),
                      c(function (t) {
                        if (t.isDirectory) (f = t), e && e(f);
                        else {
                          t = new Error('Path was not a directory.');
                          if (!n) throw t;
                          n(t);
                        }
                      }, t));
                }),
                (t.prototype.cp = function (t, e, n, r, i) {
                  o.bind(this, t, e, n, r, i)();
                }),
                (t.prototype.write = function (t, i, o, a) {
                  if (!l) throw new Error(s);
                  function e(r) {
                    r.createWriter(function (t) {
                      (t.onerror = a),
                        i.append
                          ? ((t.onwriteend = function (t) {
                              o && o(r, this);
                            }),
                            t.seek(t.length))
                          : ((e = !1),
                            (t.onwriteend = function (t) {
                              if (!e)
                                return (
                                  (e = !0), void this.truncate(this.position)
                                );
                              o && o(r, this);
                            })),
                        i.data.__proto__ == ArrayBuffer.prototype &&
                          (i.data = new Uint8Array(i.data));
                      var e,
                        n = new Blob([i.data], i.type ? { type: i.type } : {});
                      t.write(n);
                    }, a);
                  }
                  t.isFile
                    ? e(t)
                    : n(t)
                    ? c(e, t)
                    : f.getFile(t, { create: !0, exclusive: !1 }, e, a);
                }),
                (t.prototype.df = function (n, t) {
                  function e(t, e) {
                    n(t, e - t, e);
                  }
                  if (
                    !navigator.temporaryStorage.queryUsageAndQuota ||
                    !navigator.persistentStorage.queryUsageAndQuota
                  )
                    throw new Error('Not implemented.');
                  self.TEMPORARY == this.type
                    ? navigator.temporaryStorage.queryUsageAndQuota(e, t)
                    : self.PERSISTENT == this.type &&
                      navigator.persistentStorage.queryUsageAndQuota(e, t);
                }),
                t
              );
            })());
        t.exports && (t.exports = n), (e.Filer = n);
      })(e, e.exports),
      e.exports),
    K = (function () {
      function e(t) {
        a(this, e), (this.filer = t);
      }
      return (
        u(e, [
          {
            key: 'read',
            value: function (t) {
              var n = t.path,
                t = t.mimetype,
                r = void 0 === t ? 'text/plain' : t;
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            return (t.next = 2), f(this.filer.open)(n);
                          case 2:
                            return (
                              (e = t.sent),
                              (t.next = 5),
                              (function (n, t) {
                                var r =
                                  1 < arguments.length && void 0 !== t
                                    ? t
                                    : 'text/plain';
                                return new Promise(function (e) {
                                  var t = new FileReader();
                                  (t.onload = function (t) {
                                    e(
                                      (null == (t = t.target)
                                        ? void 0
                                        : t.result) || null
                                    );
                                  }),
                                    'text/plain' === r
                                      ? t.readAsText(n)
                                      : t.readAsArrayBuffer(n);
                                });
                              })(e, r)
                            );
                          case 5:
                            return (e = t.sent), t.abrupt('return', e);
                          case 7:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
          {
            key: 'write',
            value: function (t) {
              var e = t.path,
                n = t.content,
                r = void 0 === n ? '' : n,
                n = t.mimetype,
                i = void 0 === n ? 'text/plain' : n,
                n = t.append,
                o = void 0 !== n && n;
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            return (
                              null === r
                                ? (r = 'null')
                                : '[object Object]' === r.toString() &&
                                  (r = JSON.stringify(r)),
                              (t.prev = 1),
                              (t.next = 4),
                              f(this.filer.write)(e, {
                                data: r,
                                type: i,
                                append: o,
                              })
                            );
                          case 4:
                            return t.abrupt('return', t.sent);
                          case 7:
                            throw (
                              ((t.prev = 7),
                              (t.t0 = t.catch(1)),
                              console.error(t.t0),
                              new Error('Write failed: ' + e))
                            );
                          case 11:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this,
                    [[1, 7]]
                  );
                })
              );
            },
          },
        ]),
        e
      );
    })(),
    X = (function () {
      function i() {
        var t =
            0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
          e = t.persistent,
          e = void 0 !== e && e,
          n = t.size,
          n = void 0 === n ? 1048576 : n,
          r = t.onready;
        if ((a(this, i), i.instance)) return i.instance;
        (this.filer = new Y()),
          (this.reader = new K(this.filer)),
          (window.filer = this.filer),
          this.filer.init(
            { persistent: e, size: n },
            function () {
              r && r();
            },
            function (t) {
              console.error(t);
            }
          ),
          (i.instance = this);
      }
      return (
        u(i, [
          {
            key: 'initFiles',
            value: function (r) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var n = this;
                  return S().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return t.abrupt(
                            'return',
                            new Promise(function (e) {
                              n._traverseDir(
                                { path: r.path.path || '/', parent: r },
                                function (t) {
                                  e(t);
                                }
                              );
                            })
                          );
                        case 1:
                        case 'end':
                          return t.stop();
                      }
                  }, t);
                })
              );
            },
          },
          {
            key: 'createFile',
            value: function (t) {
              return f(this.filer.create)(t, !0);
            },
          },
          {
            key: 'mkdir',
            value: function (o) {
              var a = this;
              return new Promise(function (t, e) {
                var n = o.lastIndexOf('/'),
                  r = o.substring(0, n) || '/',
                  i = o.substring(n + 1);
                a.cd(r).then(function () {
                  a.filer.mkdir(
                    i,
                    !0,
                    function () {
                      t(!0);
                    },
                    function () {
                      e();
                    }
                  );
                });
              });
            },
          },
          {
            key: 'cd',
            value: function (t) {
              return f(this.filer.cd)(t);
            },
          },
          {
            key: 'rm',
            value: function (t) {
              return f(this.filer.rm.bind(this.filer))(t);
            },
          },
          {
            key: '_traverseDir',
            value: function (t, r) {
              var i = t.path,
                c = t.parent;
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e,
                    a,
                    u,
                    n = this;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            return (t.next = 3), f(this.filer.ls)(i);
                          case 3:
                            if (
                              ((e = t.sent),
                              (a = []),
                              (u = (function (t, e) {
                                var n = 0;
                                return function () {
                                  t <= ++n && e();
                                };
                              })(e.length, function () {
                                r && r(a);
                              })),
                              0 === e.length)
                            )
                              return r && r(a), t.abrupt('return');
                            t.next = 9;
                            break;
                          case 9:
                            e.forEach(function (o) {
                              return l(
                                n,
                                void 0,
                                void 0,
                                S().mark(function t() {
                                  var e, n, r, i;
                                  return S().wrap(
                                    function (t) {
                                      for (;;)
                                        switch ((t.prev = t.next)) {
                                          case 0:
                                            if (
                                              ((e = o.isDirectory),
                                              (n = o.name),
                                              e)
                                            )
                                              return (
                                                (t.next = 4),
                                                c.createDir(
                                                  { name: n, entry: o },
                                                  { fromInit: !0 }
                                                )
                                              );
                                            t.next = 12;
                                            break;
                                          case 4:
                                            if ((r = t.sent)) {
                                              t.next = 8;
                                              break;
                                            }
                                            return u(), t.abrupt('return');
                                          case 8:
                                            a.push(r),
                                              this._traverseDir(
                                                { path: o.fullPath, parent: r },
                                                u
                                              ),
                                              (t.next = 20);
                                            break;
                                          case 12:
                                            return (
                                              (t.next = 14),
                                              c.createFile(
                                                { name: n, entry: o },
                                                { fromInit: !0 }
                                              )
                                            );
                                          case 14:
                                            if ((i = t.sent)) {
                                              t.next = 18;
                                              break;
                                            }
                                            return u(), t.abrupt('return');
                                          case 18:
                                            a.push(i), u();
                                          case 20:
                                          case 'end':
                                            return t.stop();
                                        }
                                    },
                                    t,
                                    this
                                  );
                                })
                              );
                            });
                          case 10:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        i
      );
    })();
  function h() {
    return X.instance;
  }
  window._fs = h;
  function n(e, t, n) {
    var r = n.get,
      i = '_' + t;
    e.__cache_keys ||
      ((e.__cache_keys = []),
      (e.__clear_cache = function () {
        e.__cache_keys.forEach(function (t) {
          e[t] = void 0;
        });
      })),
      e.__cache_keys.push(i),
      (n.get = function () {
        return (
          void 0 === this[i] && (this[i] = null == r ? void 0 : r.call(this)),
          this[i]
        );
      });
  }
  var Z = (function () {
      function n(t) {
        var e = t.name,
          e = void 0 === e ? '' : e,
          t = t.entry,
          t = void 0 === t ? null : t;
        a(this, n),
          (this.isDisk = !1),
          (this.isDir = !1),
          (this._size = -1),
          (this.id = V()),
          (this.entry = t),
          (this.name = e);
      }
      return (
        u(n, [
          {
            key: 'size',
            get: function () {
              return (
                this._size < 0 && (this._size = this.countSize()), this._size
              );
            },
          },
          {
            key: 'setEntry',
            value: function (t) {
              this.entry = t;
            },
          },
          {
            key: 'setParent',
            value: function (t) {
              (this.parent = t) && (this.path = t.path.join(this.name));
            },
          },
          {
            key: 'remove',
            value: function () {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e,
                    n,
                    r = this;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (this.parent) {
                              t.next = 2;
                              break;
                            }
                            return t.abrupt('return', !1);
                          case 2:
                            if (
                              ((e = this.parent.children),
                              -1 ===
                                (n = e.findIndex(function (t) {
                                  return t === r;
                                })))
                            )
                              return (
                                console.warn('文件未找到'),
                                t.abrupt('return', !1)
                              );
                            t.next = 7;
                            break;
                          case 7:
                            return (
                              e.splice(n, 1),
                              this.markParentClearSize(),
                              t.abrupt('return', h().rm(this.path.path))
                            );
                          case 10:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
          {
            key: 'markParentClearSize',
            value: function () {
              for (var t = this.parent; t; ) (t._size = -1), (t = t.parent);
            },
          },
        ]),
        n
      );
    })(),
    tt = (function () {
      function t() {
        a(this, t);
      }
      return (
        u(t, [
          {
            key: 'parse',
            value: function (t) {
              return t;
            },
          },
          {
            key: 'parseWrite',
            value: function (t) {
              return t;
            },
          },
          {
            key: 'merge',
            value: function (t, e) {
              return t;
            },
          },
        ]),
        t
      );
    })(),
    e = (function () {
      c(e, tt);
      var t = s(e);
      function e() {
        return a(this, e), t.apply(this, arguments);
      }
      return (
        u(e, [
          {
            key: 'parse',
            value: function (t) {
              if ('object' === v(t)) return t;
              try {
                return JSON.parse(t);
              } catch (t) {
                return null;
              }
            },
          },
          {
            key: 'parseWrite',
            value: function (t) {
              return 'object' === v(t) ? JSON.stringify(t) : t;
            },
          },
          {
            key: 'merge',
            value: function (t, e) {
              return Object.assign(t, e);
            },
          },
        ]),
        e
      );
    })(),
    r = (function () {
      c(e, tt);
      var t = s(e);
      function e() {
        return a(this, e), t.apply(this, arguments);
      }
      return (
        u(e, [
          {
            key: 'parse',
            value: function (t) {
              return t;
            },
          },
          {
            key: 'parseWrite',
            value: function (t) {
              return t;
            },
          },
          {
            key: 'merge',
            value: function (t, e) {
              return t + e;
            },
          },
        ]),
        e
      );
    })(),
    et = { txt: 'text', json: 'json', js: 'javascript' },
    nt = { json: e, text: r, javascript: r, unknown: r },
    rt = (function () {
      function e(t) {
        a(this, e),
          (this.fileType = 'unknown'),
          (this.suffix = ''),
          (this.file = t),
          this.geneSuffix(),
          (this.parser = new nt[this.fileType]());
      }
      return (
        u(e, [
          {
            key: 'parseRead',
            value: function (t) {
              return this.parser.parse(t);
            },
          },
          {
            key: 'parseWrite',
            value: function () {
              return this.parser.parseWrite(this.file.content);
            },
          },
          {
            key: 'merge',
            value: function (t) {
              return this.parser.merge(this.file.content, t);
            },
          },
          {
            key: 'geneSuffix',
            value: function () {
              var t = this.file,
                e = t.name,
                t = t.mimetype,
                n = e.lastIndexOf('.');
              -1 !== n
                ? ((this.suffix = e.substring(n + 1)),
                  (this.fileType = et[this.suffix] || ''))
                : 'text/plain' === t && (this.fileType = 'text');
            },
          },
        ]),
        e
      );
    })(),
    it = (function () {
      c(o, Z);
      var i = s(o);
      function o(t) {
        var e = t.name,
          n = t.content,
          n = void 0 === n ? '' : n,
          r = t.entry,
          t = t.mimetype,
          t = void 0 === t ? 'text/plain' : t;
        return (
          a(this, o),
          ((e = i.call(this, { name: e, entry: r })).mimetype = t),
          (e.type = 'file'),
          (e.content = n),
          (e.fileParser = new rt(U(e))),
          e
        );
      }
      return (
        u(o, [
          {
            key: 'countSize',
            value: function () {
              var t = 0;
              return (
                'string' == typeof this.content
                  ? (t = J(this.content))
                  : null === this.content
                  ? (t = 0)
                  : this.content instanceof ArrayBuffer
                  ? (t = this.content.byteLength)
                  : 'object' === v(this.content) &&
                    (t = J(JSON.stringify(this.content))),
                t / 1024
              );
            },
          },
          {
            key: 'copy',
            value: function () {
              return new o({ name: this.name, content: this.content });
            },
          },
          {
            key: 'read',
            value: function () {
              var t = (
                  0 < arguments.length && void 0 !== arguments[0]
                    ? arguments[0]
                    : {}
                ).refresh,
                e = void 0 !== t && t;
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (e)
                              return (
                                (t.t0 = this.fileParser),
                                (t.next = 4),
                                h().reader.read({
                                  path: this.path.path,
                                  mimetype: this.mimetype,
                                })
                              );
                            t.next = 6;
                            break;
                          case 4:
                            (t.t1 = t.sent),
                              (this.content = t.t0.parseRead.call(t.t0, t.t1));
                          case 6:
                            return t.abrupt('return', this.content);
                          case 7:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
          {
            key: 'write',
            value: function () {
              var t =
                  0 < arguments.length && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                e = t.content,
                t = t.append,
                n = void 0 !== t && t;
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            return (
                              void 0 === e
                                ? (e = this.content)
                                : (this.content = n
                                    ? this.fileParser.merge(e)
                                    : e),
                              (t.next = 3),
                              h().reader.write({
                                path: this.path.path,
                                content: this.fileParser.parseWrite(),
                                append: !1,
                              })
                            );
                          case 3:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        o
      );
    })(),
    p = (function () {
      function s(t) {
        a(this, s), this.setPath(t);
      }
      return (
        u(
          s,
          [
            {
              key: 'relative',
              get: function () {
                return this.isRoot ? this.path.substring(1) : this.path;
              },
            },
            {
              key: 'isRoot',
              get: function () {
                return '' === this.array[0];
              },
            },
            {
              key: 'isEndWithSplit',
              get: function () {
                return '' === this.last;
              },
            },
            {
              key: 'array',
              get: function () {
                return this.path ? s.handleArray(this.path.split(s.Split)) : [];
              },
            },
            {
              key: 'last',
              get: function () {
                var t = this.array[this.array.length - 1];
                return (t !== s.Back && t) || '';
              },
            },
            {
              key: 'isLastReverse',
              get: function () {
                return (
                  0 !== this.array.length &&
                  (this.last === s.Back ||
                    ('' === this.last &&
                      this.array[this.array.length - 2] === s.Back))
                );
              },
            },
            {
              key: 'parentPath',
              get: function () {
                if (0 === this.array.length) return s.Back;
                if (1 === this.array.length)
                  return (t = this.array[0]) === s.Back
                    ? ''.concat(t).concat(s.Split).concat(s.Back)
                    : s.Back;
                var t = (
                  this.isLastReverse
                    ? [].concat($(this.array), [s.Back])
                    : this.array.slice(0, this.array.length - 1)
                ).join(s.Split);
                return this.isRoot && !t ? ''.concat(s.Split).concat(t) : t;
              },
            },
            {
              key: 'setPath',
              value: function (t) {
                (this.path = s.handle(t)), this.__clear_cache();
              },
            },
            {
              key: 'join',
              value: function () {
                for (
                  var t = arguments.length, e = new Array(t), n = 0;
                  n < t;
                  n++
                )
                  e[n] = arguments[n];
                return s.from(s.join.apply(s, [this.path].concat(e)));
              },
            },
            {
              key: 'append',
              value: function () {
                for (
                  var t = arguments.length, e = new Array(t), n = 0;
                  n < t;
                  n++
                )
                  e[n] = arguments[n];
                return (
                  this.setPath(s.join.apply(s, [this.path].concat(e))), this
                );
              },
            },
          ],
          [
            {
              key: 'handle',
              value: function (t) {
                t = Array.isArray(t)
                  ? t
                      .filter(function (t) {
                        return !!t;
                      })
                      .join(s.Split)
                  : t.trim();
                return t.substring(t.length - 3) === s.Back + s.Split
                  ? t.substring(0, t.length - 1)
                  : t;
              },
            },
            {
              key: 'join',
              value: function () {
                for (var t = [], e = !1, n = 0; n < arguments.length; n++) {
                  var r = s.handle(
                    n < 0 || arguments.length <= n ? void 0 : arguments[n]
                  );
                  r &&
                    ('' === (r = r.split(s.Split))[0]
                      ? ((t = r), (e = e || !0))
                      : t.push.apply(t, $(r)));
                }
                for (var i = [], o = [], a = 0; a < t.length; a++) {
                  var u = t[a];
                  '.' !== u &&
                    (u
                      ? u === s.Back
                        ? (0 === i.length ? e || o.push(u) : i.pop(),
                          a === t.length - 1 && i.push(''))
                        : i.push(u)
                      : (0 !== a && a !== t.length - 1) || i.push(u));
                }
                var c = o.concat(i).join(s.Split);
                return (c = e && c[0] !== s.Split ? s.Split + c : c);
              },
            },
            {
              key: 'from',
              value: function (t) {
                return new s(t);
              },
            },
            {
              key: 'handleArray',
              value: function (t) {
                var n = t.length;
                return t.filter(function (t, e) {
                  return 0 === e || e === n - 1 || '' !== t;
                });
              },
            },
          ]
        ),
        s
      );
    })(),
    ot =
      ((p.Split = '/'),
      (p.Back = '..'),
      t([n], p.prototype, 'relative', null),
      t([n], p.prototype, 'isRoot', null),
      t([n], p.prototype, 'isEndWithSplit', null),
      t([n], p.prototype, 'array', null),
      t([n], p.prototype, 'last', null),
      t([n], p.prototype, 'isLastReverse', null),
      t([n], p.prototype, 'parentPath', null),
      (window.Path = p),
      (function () {
        c(i, Z);
        var r = s(i);
        function i(t) {
          var e = t.name,
            n = t.children,
            n = void 0 === n ? [] : n,
            t = t.entry;
          return (
            a(this, i),
            ((e = r.call(this, { name: e, entry: t })).children = []),
            (e.type = 'dir'),
            (e.isDir = !0),
            (e.children = n),
            e
          );
        }
        return (
          u(i, [
            {
              key: 'countSize',
              value: function () {
                var e = 0;
                return (
                  this.children.forEach(function (t) {
                    e += t.countSize();
                  }),
                  e
                );
              },
            },
            {
              key: 'addChild',
              value: function (n) {
                var r =
                  1 < arguments.length &&
                  void 0 !== arguments[1] &&
                  arguments[1];
                return l(
                  this,
                  void 0,
                  void 0,
                  S().mark(function t() {
                    var e;
                    return S().wrap(
                      function (t) {
                        for (;;)
                          switch ((t.prev = t.next)) {
                            case 0:
                              if (
                                (n.setParent(this), this.children.push(n), r)
                              ) {
                                t.next = 11;
                                break;
                              }
                              return (
                                (e = n.path.path),
                                (t.next = 6),
                                h()[n.isDir ? 'mkdir' : 'createFile'](e)
                              );
                            case 6:
                              if (((e = t.sent), this.setEntry(e), n.isDir)) {
                                t.next = 11;
                                break;
                              }
                              return (t.next = 11), n.write();
                            case 11:
                              return t.abrupt('return', n);
                            case 12:
                            case 'end':
                              return t.stop();
                          }
                      },
                      t,
                      this
                    );
                  })
                );
              },
            },
            {
              key: 'createFile',
              value: function (n) {
                var t =
                    1 < arguments.length && void 0 !== arguments[1]
                      ? arguments[1]
                      : { returnIfExists: !1, fromInit: !1 },
                  r = t.returnIfExists,
                  i = t.fromInit;
                return l(
                  this,
                  void 0,
                  void 0,
                  S().mark(function t() {
                    var e;
                    return S().wrap(
                      function (t) {
                        for (;;)
                          switch ((t.prev = t.next)) {
                            case 0:
                              if ((n.name, !this.exists(n.name))) {
                                t.next = 6;
                                break;
                              }
                              if (r)
                                return t.abrupt(
                                  'return',
                                  this.findFileByPath(n.name)
                                );
                              t.next = 4;
                              break;
                            case 4:
                              return t.abrupt('return', null);
                            case 6:
                              return (t.next = 8), this.addChild(new it(n), i);
                            case 8:
                              if (((e = t.sent), i))
                                return (t.next = 12), e.read({ refresh: !0 });
                              t.next = 12;
                              break;
                            case 12:
                              return t.abrupt('return', e);
                            case 13:
                            case 'end':
                              return t.stop();
                          }
                      },
                      t,
                      this
                    );
                  })
                );
              },
            },
            {
              key: 'createChildByPath',
              value: function (i, o) {
                return l(
                  this,
                  void 0,
                  void 0,
                  S().mark(function t() {
                    var e, n, r;
                    return S().wrap(
                      function (t) {
                        for (;;)
                          switch ((t.prev = t.next)) {
                            case 0:
                              if (
                                ((n = (function (t, e, n) {
                                  return (
                                    (e =
                                      1 < arguments.length && void 0 !== e
                                        ? e
                                        : '/'),
                                    -1 !==
                                      (n =
                                        2 < arguments.length &&
                                        void 0 !== n &&
                                        n
                                          ? t.lastIndexOf(e)
                                          : t.indexOf(e)) && e
                                      ? [t.substring(0, n), t.substring(n + 1)]
                                      : [t, '']
                                  );
                                })(i)),
                                (n = W(n, 2)),
                                (e = n[0]),
                                !(n = n[1]))
                              ) {
                                t.next = 10;
                                break;
                              }
                              if (e) {
                                t.next = 6;
                                break;
                              }
                              return t.abrupt(
                                'return',
                                at.instance.createChildByPath(n, o)
                              );
                            case 6:
                              return (
                                (t.next = 8),
                                this.createDir(
                                  { name: e },
                                  { returnIfExists: !0 }
                                )
                              );
                            case 8:
                              return (
                                (r = t.sent),
                                t.abrupt(
                                  'return',
                                  (null == r
                                    ? void 0
                                    : r.createChildByPath(n, o)) || null
                                )
                              );
                            case 10:
                              if (o)
                                return t.abrupt(
                                  'return',
                                  this.createDir(
                                    { name: e },
                                    { returnIfExists: !1 }
                                  )
                                );
                              t.next = 12;
                              break;
                            case 12:
                              return t.abrupt(
                                'return',
                                this.createFile({ name: e })
                              );
                            case 13:
                            case 'end':
                              return t.stop();
                          }
                      },
                      t,
                      this
                    );
                  })
                );
              },
            },
            {
              key: 'createDir',
              value: function (e) {
                var n =
                  1 < arguments.length && void 0 !== arguments[1]
                    ? arguments[1]
                    : { returnIfExists: !1, fromInit: !1 };
                return l(
                  this,
                  void 0,
                  void 0,
                  S().mark(function t() {
                    return S().wrap(
                      function (t) {
                        for (;;)
                          switch ((t.prev = t.next)) {
                            case 0:
                              if ((e.name, !this.exists(e.name))) {
                                t.next = 6;
                                break;
                              }
                              if (n.returnIfExists)
                                return t.abrupt(
                                  'return',
                                  this.findDirByPath(e.name)
                                );
                              t.next = 4;
                              break;
                            case 4:
                              return (
                                ''.concat(this.path.path, '/').concat(e.name),
                                t.abrupt('return', null)
                              );
                            case 6:
                              return t.abrupt(
                                'return',
                                this.addChild(new i(e), n.fromInit)
                              );
                            case 7:
                            case 'end':
                              return t.stop();
                          }
                      },
                      t,
                      this
                    );
                  })
                );
              },
            },
            {
              key: 'exists',
              value: function (e) {
                return !!this.children.find(function (t) {
                  return t.name === e;
                });
              },
            },
            {
              key: 'copy',
              value: function () {
                var t = this.children.map(function (t) {
                  return t.copy();
                });
                return new i({ name: this.name, children: t });
              },
            },
            {
              key: 'paste',
              value: function (t) {
                this.children.push(t);
              },
            },
            {
              key: 'findChildByPath',
              value: function (t) {
                t = p.from(t);
                if (t.isRoot) return at.instance.findChildByPath(t.relative);
                if (0 === t.array.length) return this;
                var e = t.array.shift();
                if (e === p.Back)
                  return (this.parent || this).findChildByPath(t.array);
                var n = this.children.find(function (t) {
                  return t.name === e;
                });
                return n ? (n.isDir ? n.findChildByPath(t.array) : n) : null;
              },
            },
            {
              key: 'filerChild',
              value: function (t) {
                for (
                  var e =
                      !(1 < arguments.length && void 0 !== arguments[1]) ||
                      arguments[1],
                    n = [],
                    r = this.children.length,
                    i = 0;
                  i < r;
                  i++
                ) {
                  var o = this.children[i];
                  -1 !== o.name.indexOf(t) && n.push(o),
                    e && o.isDir && n.push.apply(n, $(o.filerChild(t, e)));
                }
                return n;
              },
            },
            {
              key: 'findFileByPath',
              value: function (t) {
                t = this.findChildByPath(t);
                return !t || t.isDir
                  ? (console.warn('目标不存在 或是一个文件夹而不是文件'), null)
                  : t;
              },
            },
            {
              key: 'findDirByPath',
              value: function (t) {
                t = this.findChildByPath(t);
                return null != t && t.isDir
                  ? t
                  : (console.warn('目标不存在 或是一个文件而不是文件夹'), null);
              },
            },
            {
              key: 'ls',
              value: function () {
                return this.children.map(function (t) {
                  return t.name;
                });
              },
            },
            {
              key: 'lsDetail',
              value: function () {
                return this.children.map(function (t) {
                  return {
                    name: t.name,
                    isDir: t.isDir,
                    _size: t._size,
                    path: t.path,
                    id: t.id,
                    fileType: t.fileType,
                  };
                });
              },
            },
            {
              key: 'deepLs',
              value: function () {
                var e = {};
                return (
                  this.children.forEach(function (t) {
                    t.isDir ? (e[t.name] = t.deepLs()) : (e[t.name] = t.name);
                  }),
                  e
                );
              },
            },
          ]),
          i
        );
      })()),
    at = (function () {
      c(r, ot);
      var n = s(r);
      function r() {
        var t,
          e = (
            0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}
          ).capacity,
          e = void 0 === e ? 1024 : e;
        return (
          a(this, r),
          r.instance
            ? M(t, r.instance)
            : (((t = n.call(this, { name: 'disk' })).isDisk = !0),
              (t.type = 'disk'),
              (t.capacity = e),
              (t.parent = null),
              (t.path = new p('/')),
              (r.instance = U(t)),
              t)
        );
      }
      return (
        u(r, [
          {
            key: 'initFileSystem',
            value: function () {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            t.next = 2;
                            var n = this;
                            return new Promise(function (e) {
                              new X({
                                onready: function () {
                                  h()
                                    .initFiles(n)
                                    .then(function (t) {
                                      e(t);
                                    });
                                },
                              });
                            });
                          case 2:
                            this.children = t.sent;
                          case 3:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
          {
            key: 'clear',
            value: function () {
              for (var t = this.children.length - 1; 0 <= t; t--)
                this.children[t].remove();
            },
          },
        ]),
        r
      );
    })();
  function ut(t, e) {
    for (var n = '', r = 0; r < t.length - 1; r++)
      n += ''.concat(t[r]).concat('function' == typeof e ? e(r) : e[r]);
    return n + t[t.length - 1];
  }
  function ct(t) {
    return t instanceof Array && t.raw instanceof Array;
  }
  function st(t, e) {
    return -1 === (e = t.indexOf(e))
      ? [t, '']
      : [t.substring(0, e).trim(), t.substring(e + 1).trim()];
  }
  var d = Symbol('sub'),
    lt = Symbol('fu'),
    ft = Symbol('i'),
    ht = Symbol('v'),
    pt = Symbol('rv'),
    dt = Symbol('l'),
    E = Symbol('j'),
    vt = Symbol('rpv');
  function yt(t) {
    return (yt =
      'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              'function' == typeof Symbol &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          })(t);
  }
  function y(t, e, n) {
    e in t
      ? Object.defineProperty(t, e, {
          value: n,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (t[e] = n);
  }
  function mt(t) {
    return (
      (function (t) {
        if (Array.isArray(t)) return gt(t);
      })(t) ||
      (function (t) {
        if (
          ('undefined' != typeof Symbol && null != t[Symbol.iterator]) ||
          null != t['@@iterator']
        )
          return Array.from(t);
      })(t) ||
      (function (t, e) {
        if (t) {
          if ('string' == typeof t) return gt(t, e);
          var n = Object.prototype.toString.call(t).slice(8, -1);
          return 'Map' ===
            (n = 'Object' === n && t.constructor ? t.constructor.name : n) ||
            'Set' === n
            ? Array.from(t)
            : 'Arguments' === n ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
            ? gt(t, e)
            : void 0;
        }
      })(t) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  function gt(t, e) {
    (null == e || e > t.length) && (e = t.length);
    for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
    return r;
  }
  var bt = /\$\$\d+\$\$/,
    wt = /\$\$\d+\$\$/g,
    xt = [],
    kt = {};
  function St(t) {
    if (xt[t]) return xt[t];
    var e = '$$'.concat(t, '$$');
    return (xt[t] = e), (kt[e] = t), e;
  }
  function Et(t) {
    return kt[t] || parseInt(t.replace(/\$\$/g, ''));
  }
  function At(t) {
    return (t = t.match(wt)) || null;
  }
  function jt(t, e) {
    var n = 1 < arguments.length && void 0 !== e ? e : 0;
    return ut(t, function (t) {
      return St(t + n);
    });
  }
  function m(t, e, r, n) {
    var i = 3 < arguments.length && void 0 !== n && n,
      n = t instanceof Array;
    if (0 < e.length) {
      var o,
        a,
        u = n
          ? (function (t) {
              if (t <= 0) return [];
              for (var e = [], n = 0; n < t; n++) e.push(St(n));
              return e;
            })(e.length)
          : At(t);
      if (u)
        return (
          (o = n ? t : t.split(bt)),
          (a = u.map(function (t, n) {
            return (
              (t = Et(t)),
              g(e[t])[d](function (t) {
                var e = i ? ut(o, a) : '',
                  t = ((a[n] = t), ut(o, a));
                r(t, e);
              })
            );
          })),
          ut(o, a)
        );
    }
    return n ? t.join('') : t;
  }
  var Ot = { add: null },
    _t = function (t) {
      var e,
        n,
        r,
        i,
        o = (a = 'function' == typeof t) ? t : t.get,
        a = a ? null : t.set,
        u = [],
        t =
          ((Ot.add = function (t) {
            u.push(t);
          }),
          o()),
        c =
          ((Ot.add = null),
          (e = o),
          (n = a),
          (r = t),
          (i = []),
          y(
            (o = {
              type: 'reaction',
              isUndefined: function () {
                return void 0 === r;
              },
              get value() {
                var t;
                return null != (t = Ot.add) && t.call(Ot, this), (r = e());
              },
              set value(t) {
                n ? n(t, this.value) : console.warn('对只读computed设置值无效');
              },
            }),
            vt,
            function (t) {
              t !== r && n && n(t, r);
            }
          ),
          y(o, d, function (t) {
            return i.push(t), r;
          }),
          y(o, lt, function () {
            var e = r,
              n = this.value;
            i.forEach(function (t) {
              t(n, e);
            });
          }),
          y(o, pt, Lt(r)),
          y(o, dt, function () {
            return i;
          }),
          y(o, 'toJSON', function () {
            return r;
          }),
          o);
      return (
        u.forEach(function (r) {
          return r[d](function (t, e, n) {
            r[vt](t), c[lt](e, n);
          });
        }),
        c
      );
    };
  function Ct(t, e) {
    var n,
      e = 1 < arguments.length && void 0 !== e ? e : 'computed';
    return t.isEmpty()
      ? null
      : ((n = t.exe({ type: e })),
        _t(function () {
          return It(n);
        }));
  }
  function Nt(t) {
    var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : [],
      k = t;
    if ('object' === yt(k))
      for (var e in k) {
        if ('toJSON' === e) break;
        k[e] = zt(k[e]);
      }
    function S(t, e, n) {
      for (var r = 0; r < i.length; r++) i[r](t, e, n);
    }
    return (
      Object.assign(
        k,
        (y((t = {}), d, function (t) {
          return i.push(t), k;
        }),
        y(t, lt, function () {
          S(
            k,
            0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : k,
            1 < arguments.length ? arguments[1] : void 0
          );
        }),
        y(t, pt, !1),
        y(t, dt, function () {
          return i;
        }),
        y(t, E, function () {
          return Bt(k);
        }),
        t)
      ),
      new Proxy(k, {
        get: function (t, e, n) {
          if (e === ht) return Bt(k);
          var r = yt(k[e]);
          return (
            (Array.isArray(t) && ('length' === e || 'function' === r)) ||
              'undefined' !== r ||
              'toJSON' === e ||
              (k[e] = Dt('', !0)),
            Reflect.get(t, e, n)
          );
        },
        set: function (t, e, n, r) {
          function i() {
            return a && !u && /^\d+$/.test(e) ? parseInt(e) : -1;
          }
          function o() {
            return Reflect.set(t, e, n, r);
          }
          var a = t instanceof Array,
            u = 'symbol' === yt(e);
          if (a) {
            if ('length' === e) return o();
            var c = t.indexOf(n);
            if (-1 !== c) return (s = i()), S(n, t[s], s), (t[c] = void 0), o();
          }
          if (u) {
            if (e !== ht)
              return e === E
                ? (console.warn('json symbol 属性不可设置'), !0)
                : o();
            var s = k[E]();
            if (a) {
              for (var l = void 0 === n ? 0 : n.length, f = 0; f < l; f++) {
                var h = t[f],
                  p = zt(n[f]);
                (p[ft] = Dt(f)), h && Rt(h, p, f), S(p, h, f), (t[f] = p);
              }
              if (t.length > l)
                for (
                  var d = t.splice(l, t.length - l), v = 0;
                  v < d.length;
                  v++
                )
                  S(void 0, d[v], v + l);
            } else {
              var y,
                m,
                g = void 0 === (n = Ft(n) ? n[E]() : n);
              for (y in t)
                (!g && y in n) ||
                  ((m = t[y]),
                  delete t[y],
                  (m[m[pt] ? 'value' : ht] = void 0),
                  S(void 0, m));
              if (!g)
                for (var b in n) {
                  var w = t[b],
                    x = zt(n[b]);
                  Rt(w, x), (t[b] = x);
                }
            }
            return S(k[E](), s), !0;
          }
          return (
            (c = t[e]),
            Ft(n)
              ? S(n, c)
              : void 0 === c
              ? S((n = zt(n)), c, i())
              : c[pt]
              ? ((t = c), (e = 'value'))
              : ((n = zt(n)), a ? ((s = i()), S(n, t[s], s)) : Rt(c, n)),
            o()
          );
        },
        deleteProperty: function (t, e) {
          var n;
          return (
            t instanceof Array
              ? S(
                  void 0,
                  t[
                    (n =
                      'string' == typeof e && /^\d+$/.test(e)
                        ? parseInt(e)
                        : -1)
                  ],
                  n
                )
              : S(void 0, t[e]),
            Reflect.deleteProperty(t, e)
          );
        },
      })
    );
  }
  function Tt(t) {
    var n = t.template,
      e = t.reactions;
    return {
      templateValue: function () {
        return n.join('');
      },
      isEmpty: function () {
        return 0 === e.length;
      },
      exe: function (t) {
        return { template: n, reactions: e, context: t };
      },
      modTemplate: function (t) {
        var e =
          1 < arguments.length && void 0 !== arguments[1]
            ? arguments[1]
            : n.length - 1;
        n[e] = t(n[e]);
      },
      type: 'react',
    };
  }
  function Pt(t) {
    if (Lt(t)) return Dt(t);
    if ('object' === yt(t)) return Nt(t);
    throw new Error('createReactive error');
  }
  function Dt(r) {
    var t,
      e,
      i = 1 < arguments.length && void 0 !== arguments[1] && arguments[1],
      o = [],
      n = {
        type: 'reaction',
        isUndefined: function () {
          return void 0 === r || i;
        },
        get value() {
          var t;
          return null != (t = Ot.add) && t.call(Ot, this), r;
        },
      },
      a =
        (y(n, vt, function (t) {
          t !== r && (r = t);
        }),
        ((t = {})['value'] = t.value || {}),
        (t.value.set = function (e) {
          var n;
          e !== r &&
            ((i = i && !1),
            e instanceof Array && (e = e.join('\n')),
            (n = r),
            (r = e),
            o.forEach(function (t) {
              t(e, n);
            }));
        }),
        y(n, pt, !0),
        y(n, d, function (t) {
          return o.push(t), this.value;
        }),
        y(n, lt, function () {
          var e =
              0 < arguments.length && void 0 !== arguments[0]
                ? arguments[0]
                : r,
            n = 1 < arguments.length ? arguments[1] : void 0;
          o.forEach(function (t) {
            t(r, e, n);
          });
        }),
        y(n, 'toJSON', function () {
          return i ? void 0 : this.value;
        }),
        y(n, dt, function () {
          return o;
        }),
        y(n, E, function () {
          return r;
        }),
        n),
      u = t;
    for (e in u)
      ((l = u[e]).configurable = l.enumerable = !0),
        'value' in l && (l.writable = !0),
        Object.defineProperty(a, e, l);
    if (Object.getOwnPropertySymbols)
      for (var c = Object.getOwnPropertySymbols(u), s = 0; s < c.length; s++) {
        var l,
          f = c[s];
        ((l = u[f]).configurable = l.enumerable = !0),
          'value' in l && (l.writable = !0),
          Object.defineProperty(a, f, l);
      }
    return n;
  }
  function g(t) {
    return 'function' == typeof t ? _t(t) : t;
  }
  function It(t) {
    return ut(
      t.template,
      t.reactions.map(function (t) {
        return 'function' == typeof (t = t) ? t() : t.value;
      })
    );
  }
  function Lt(t) {
    return 'object' !== yt(t) || null === t;
  }
  function Rt(t, e, n) {
    if (void 0 !== t && 'function' != typeof e) {
      if (!0 !== e[pt]) {
        var r,
          i = Object.keys(e),
          o = t;
        for (r in t) {
          var a = o[r],
            u = i.indexOf(r);
          -1 !== u ? (Rt(a, e[r], u), i.splice(u, 1)) : delete o[r];
        }
        for (var c = 0; c < i.length; c++) {
          var s = i[c];
          o[s] = zt(e[s]);
        }
      }
      t
        ? ((l = e),
          (f = n),
          0 < (p = (t = t)[dt]()).length &&
            ((h = l[dt]()).push.apply(h, mt(p)),
            l[lt](
              (function (t) {
                return t[ht] || t.value;
              })(t),
              f
            )))
        : e[lt](void 0, n);
    }
    var l, f, h, p;
  }
  function Ft(t) {
    return null != t && t[d];
  }
  function Bt(t) {
    return Ft(t) ? JSON.parse(JSON.stringify(t)) : t;
  }
  function zt(t) {
    return (Lt((t = Ft(t) ? t[E] : t)) ? Dt : Nt)(t);
  }
  function Ut(t, e) {
    return 'string' == typeof t || 'number' == typeof t
      ? t
      : 'react' === t.type
      ? (function (t, e, n) {
          return (n = Ct(
            t,
            2 < arguments.length && void 0 !== n ? n : 'computed'
          ))
            ? n[d](e)
            : t.templateValue();
        })(
          t,
          function (t) {
            e(t);
          },
          'style'
        )
      : g(t)[d](function (t) {
          e(t);
        });
  }
  var b = function (t) {
    for (
      var e = arguments.length, n = new Array(1 < e ? e - 1 : 0), r = 1;
      r < e;
      r++
    )
      n[r - 1] = arguments[r];
    for (var i = n, o = 0; o < i.length; o++) {
      var a = i[o];
      'style' === a.type && (i[o] = a.react());
    }
    return ct(t)
      ? Tt({ template: t, reactions: n })
      : 'string' == typeof t && 0 < n.length
      ? Tt(
          (function (t, e) {
            for (var n = [t], r = !0, i = 0; i < e.length; i++) {
              var o = e[i],
                a = 'string' == typeof o;
              a &&
                (r ? (n[n.length - 1] += o) : n.push(o), e.splice(i, 1), i--),
                r || a || n.push(''),
                (r = a);
            }
            return r || n.push(''), { template: n, reactions: e };
          })(t, n)
        )
      : Pt(t);
  };
  function Mt(t) {
    return (Mt =
      'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              'function' == typeof Symbol &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          })(t);
  }
  function qt(t, e) {
    return (
      (function (t) {
        if (Array.isArray(t)) return t;
      })(t) ||
      (function (t, e) {
        var n =
          null == t
            ? null
            : ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
              t['@@iterator'];
        if (null != n) {
          var r,
            i,
            o = [],
            a = !0,
            u = !1;
          try {
            for (
              n = n.call(t);
              !(a = (r = n.next()).done) &&
              (o.push(r.value), !e || o.length !== e);
              a = !0
            );
          } catch (t) {
            (u = !0), (i = t);
          } finally {
            try {
              a || null == n.return || n.return();
            } finally {
              if (u) throw i;
            }
          }
          return o;
        }
      })(t, e) ||
      $t(t, e) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  function Wt(t) {
    return (
      (function (t) {
        if (Array.isArray(t)) return Ht(t);
      })(t) ||
      (function (t) {
        if (
          ('undefined' != typeof Symbol && null != t[Symbol.iterator]) ||
          null != t['@@iterator']
        )
          return Array.from(t);
      })(t) ||
      $t(t) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  function $t(t, e) {
    if (t) {
      if ('string' == typeof t) return Ht(t, e);
      var n = Object.prototype.toString.call(t).slice(8, -1);
      return 'Map' ===
        (n = 'Object' === n && t.constructor ? t.constructor.name : n) ||
        'Set' === n
        ? Array.from(t)
        : 'Arguments' === n ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
        ? Ht(t, e)
        : void 0;
    }
  }
  function Ht(t, e) {
    (null == e || e > t.length) && (e = t.length);
    for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
    return r;
  }
  function Gt(t, e) {
    var n,
      r =
        ('undefined' != typeof Symbol && t[Symbol.iterator]) || t['@@iterator'];
    if (!r) {
      if (
        Array.isArray(t) ||
        (r = $t(t)) ||
        (e && t && 'number' == typeof t.length)
      )
        return (
          r && (t = r),
          (n = 0),
          {
            s: (e = function () {}),
            n: function () {
              return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
            },
            e: function (t) {
              throw t;
            },
            f: e,
          }
        );
      throw new TypeError(
        'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
      );
    }
    var i,
      o = !0,
      a = !1;
    return {
      s: function () {
        r = r.call(t);
      },
      n: function () {
        var t = r.next();
        return (o = t.done), t;
      },
      e: function (t) {
        (a = !0), (i = t);
      },
      f: function () {
        try {
          o || null == r.return || r.return();
        } finally {
          if (a) throw i;
        }
      },
    };
  }
  function Jt(t) {
    t.remove(), Qt('removed', t);
  }
  function Vt(t, e, n) {
    n && (e[(t = '__alins_on_'.concat(t))] || (e[t] = []), e[t].push(n));
  }
  function Qt(t, e) {
    var n = '__alins_on_'.concat(t);
    e[n] &&
      (e[n].forEach(function (t) {
        t(e);
      }),
      'mounted' === t && (e[n] = null));
  }
  function Yt(t) {
    Qt('appended', t), Qt('mounted', t);
  }
  function Kt(t, e, n) {
    var r = e instanceof DocumentFragment ? Xt(e) : null;
    t.insertBefore(e, n), r ? r.forEach(Yt) : Yt(e);
  }
  function Xt(t) {
    return [].slice.call(t.children);
  }
  var Zt = {
    _mountedList: [],
    _inMounting: !1,
    mountStart: function () {
      (this._inMounting = !0), (this._mountedList = []);
    },
    collectMounted: function (t, e) {
      this._inMounting
        ? this._mountedList.push(function () {
            null != e && e.exe()(t);
          })
        : Vt('mounted', t, null == e ? void 0 : e.exe());
    },
    mountFinish: function () {
      this._mountedList.forEach(function (t) {
        t();
      }),
        (this._mountedList = []),
        (this._inMounting = !1);
    },
  };
  te = 'mounted';
  var te,
    ee = function (t) {
      return {
        type: 'life',
        name: te,
        exe: function () {
          return t;
        },
      };
    };
  function ne(t) {
    return './#[:'.includes(t[0]) ? t : ':'.concat(t);
  }
  function re(t) {
    if ('/' !== t[0]) return '';
    for (var e = 1; e < t.length; e++)
      if ('.#[:'.includes(t[e])) return t.substring(1, e);
    return t.substring(1);
  }
  function ie(o) {
    function a(t, e) {
      (c = e), (s = t);
    }
    function t(t, e) {
      if ('attributes' !== c || '' === e) {
        if (!c) return a(t, e);
        var n = o.substring(s + 1, t);
        switch (c) {
          case 'className':
            u.className || (u.className = []), u.className.push(n);
            break;
          case 'id':
            u.id = n;
            break;
          case 'attributes':
            u.attributes || (u.attributes = {});
            var r = (i = qt(st(n, '='), 2))[0],
              i = i[1];
            u.attributes[r] = i;
            break;
          case 'textContent':
            u.textContent += n;
            break;
          case 'tagName':
            u.tagName = n;
        }
        a(t, e);
      }
    }
    for (
      var u = { textContent: '' },
        c = ((o = ne(o)), ''),
        s = 0,
        e = o.length,
        n = 0;
      n < e;
      n++
    )
      switch (o[n]) {
        case '.':
          t(n, 'className');
          break;
        case '#':
          t(n, 'id');
          break;
        case '[':
          t(n, 'attributes');
          break;
        case ']':
          t(n, '');
          break;
        case '/':
          t(n, 'tagName');
          break;
        case ':':
          'textContent' !== c && t(n, 'textContent');
      }
    return t(o.length, ''), u;
  }
  function oe(t, e) {
    var n;
    e.className && (n = t.className).push.apply(n, Wt(e.className)),
      e.attributes && Object.assign(t.attributes, e.attributes),
      e.id && (t.id = e.id),
      e.textContent && (t.textContent += e.textContent);
  }
  function ae(t) {
    var e = t.exe(),
      n = document.createElement(e.tag),
      r = !1;
    e.html
      ? ((r = !0),
        (n.innerHTML =
          e.html.exe(function (t) {
            n.innerHTML = t;
          }) + ''))
      : e.text && e.text.exe(n, se(n));
    for (var i = 0; i < e.binding.length; i++) {
      var o = e.binding[i];
      oe(
        e,
        (function (t, i, e, o) {
          var r,
            n = e.template,
            a = e.reactions,
            u = ie(ut(n, St)),
            c = {};
          if (
            (u.textContent &&
              (t
                ? console.warn('text is not supported in html or text builder')
                : ((e = u.textContent),
                  (r = At(e))
                    ? se(i)
                      ? (i.value = m(
                          e,
                          a,
                          function (t, e) {
                            (i.value = t),
                              null != o &&
                                o({
                                  node: i,
                                  type: 'value',
                                  value: t,
                                  prevValue: e,
                                });
                          },
                          !1
                        ))
                      : e.split(bt).forEach(function (t, e) {
                          var n;
                          t && i.appendChild(document.createTextNode(t)),
                            r[e] &&
                              ((t = Et(r[e])),
                              (e = a[t]) &&
                                ((t = g(e)),
                                (n = document.createTextNode(
                                  t[d](function (t, e) {
                                    (n.textContent = t),
                                      null != o &&
                                        o({
                                          node: n,
                                          type: 'text',
                                          value: t,
                                          prevValue: e,
                                        });
                                  })
                                )),
                                i.appendChild(n)));
                        })
                    : (c.textContent = e))),
            u.className &&
              u.className.forEach(function (t) {
                c.className || (c.className = []),
                  (t = m(
                    t,
                    a,
                    function (t, e) {
                      e
                        ? t
                          ? i.classList.replace(e, t)
                          : i.classList.remove(e)
                        : i.classList.add(t),
                        null != o &&
                          o({
                            node: i,
                            type: 'className',
                            value: t,
                            prevValue: e,
                          });
                    },
                    !0
                  )) && c.className.push(t);
              }),
            u.attributes)
          )
            for (var s in u.attributes)
              !(function (t) {
                var n = '',
                  r = m(
                    t,
                    a,
                    function (t, e) {
                      i.removeAttribute(e),
                        i.setAttribute(t, n),
                        (r = t),
                        null != o &&
                          o({
                            node: i,
                            key: r,
                            type: 'attribute-key',
                            value: t,
                            prevValue: e,
                          });
                    },
                    !0
                  ),
                  n = m(u.attributes[t], a, function (t, e) {
                    i.setAttribute(r, t),
                      (n = t),
                      null != o &&
                        o({
                          node: i,
                          key: r,
                          type: 'attribute-value',
                          value: t,
                          prevValue: e,
                        });
                  });
                c.attributes || (c.attributes = {}), (c.attributes[r] = n);
              })(s);
          return (
            u.id &&
              ((n = m(u.id, a, function (t, e) {
                (i.id = t),
                  null != o &&
                    o({ node: i, type: 'id', value: t, prevValue: e });
              })),
              (i.id = n)),
            c
          );
        })(r, n, o, null == (o = e.lifes.updated) ? void 0 : o.exe())
      );
    }
    if (
      (e.domInfo && oe(e, ie(e.domInfo)),
      e.textContent &&
        ((u = n),
        (c = e.textContent),
        se(u) ? (u.value = c) : u.appendChild(document.createTextNode(c))),
      0 < e.className.length && (n.className = e.className.join(' ')),
      e.attributes)
    )
      for (var a in e.attributes) n.setAttribute(a, e.attributes[a]);
    e.id && (n.id = e.id),
      e.children &&
        0 < e.children.length &&
        (r && e.html
          ? console.warn('children is not supported in html builder')
          : ue(n, e.children));
    for (var u, c, s, l = 0; l < e.event.length; l++) e.event[l].exe(n);
    return (
      e.styles.forEach(function (t) {
        return t.exe(n);
      }),
      e.pseudos.forEach(function (t) {
        return t.exe(n);
      }),
      (u = n),
      (c = e.lifes),
      Vt('appended', u, null == (s = c.appended) ? void 0 : s.exe()),
      Vt('removed', u, null == (s = c.removed) ? void 0 : s.exe()),
      Zt.collectMounted(n, e.lifes.mounted),
      null != (t = e.lifes.created) && t.exe()(n),
      n
    );
  }
  function ue(t, e) {
    var n,
      r,
      i,
      o = document.createDocumentFragment(),
      a = Gt(e);
    try {
      for (a.s(); !(n = a.n()).done; ) {
        var u = n.value;
        o.appendChild(ce(u));
      }
    } catch (t) {
      a.e(t);
    } finally {
      a.f();
    }
    (e = t), (i = Xt((r = o))), e.appendChild(r), i.forEach(Yt);
  }
  function ce(t) {
    var e = document.createDocumentFragment();
    if ('function' == typeof t) return ce(t());
    if (t instanceof Array) {
      var n,
        r = Gt(t);
      try {
        for (r.s(); !(n = r.n()).done; ) {
          var i = n.value;
          e.appendChild(ce(i));
        }
      } catch (t) {
        r.e(t);
      } finally {
        r.f();
      }
    } else if (t instanceof HTMLElement) e.appendChild(t);
    else if (t)
      switch (t.type) {
        case 'comp':
          e.appendChild(ce(t.exe()));
          break;
        case 'builder':
          e.appendChild(ae(t));
          break;
        case 'if':
        case 'switch':
        case 'for':
        case 'show':
        case 'model':
          e.appendChild(t.exe());
      }
    return e;
  }
  function se(t) {
    return void 0 !== t.value && 'BUTTON' !== t.tagName;
  }
  function w(t) {
    'string' == typeof t && (t = document.querySelector(t) || document.body);
    for (
      var e = arguments.length, n = new Array(1 < e ? e - 1 : 0), r = 1;
      r < e;
      r++
    )
      n[r - 1] = arguments[r];
    if (t instanceof HTMLElement) Zt.mountStart(), ue(t, n), Zt.mountFinish();
    else {
      if ('builder' !== t.type && 'comp' !== t.type)
        throw new Error('Parent is illegal');
      t._asParent(n);
    }
  }
  function le(t, e) {
    var n = e ? '' : 'none';
    (t =
      t instanceof DocumentFragment ? [].slice.call(t.children) : t) instanceof
    Array
      ? t.forEach(function (t) {
          t.style.display = n;
        })
      : (t.style.display = n);
  }
  var fe = {
      for: function (s) {
        var l = this;
        return function (r) {
          function o(t, e) {
            var n = Pt(t),
              t = (((e = void 0 === e ? s[t] : e)[ft] = n), r(e, n));
            return Array.isArray(t) ? t : [t];
          }
          for (
            var a = document.createComment(''), u = [], c = [], t = 0;
            t < s.length;
            t++
          ) {
            var e = o(t);
            c.push(l.apply(null, e));
          }
          return (
            s[d](function (t, e, n) {
              var r, i;
              'number' == typeof n &&
                (-1 !== (r = s.indexOf(t))
                  ? ((i = u[n]), (u[n] = u[r]), (u[r] = i), (t[ft].value = n))
                  : void 0 === t
                  ? (de(u[n]), (u[n] = void 0))
                  : ((r = l.apply(null, o(n, t))),
                    u[n]
                      ? Rt(e, t)
                      : ((e = (i = pe(r)).dom),
                        (t = i.children),
                        (u[n] = t),
                        (i = (r = u[n + 1]) instanceof Array ? r[0] : r),
                        Kt(a.parentElement, e, i || a))));
            }),
            {
              exe: function () {
                var t,
                  e = document.createDocumentFragment(),
                  n = Gt(c);
                try {
                  for (n.s(); !(t = n.n()).done; ) {
                    var r = pe(t.value),
                      i = r.dom,
                      o = r.children;
                    u.push(o), e.appendChild(i);
                  }
                } catch (t) {
                  n.e(t);
                } finally {
                  n.f();
                }
                return e.append(a), e;
              },
              type: 'for',
              mount: function () {
                w(
                  0 < arguments.length && void 0 !== arguments[0]
                    ? arguments[0]
                    : 'body',
                  this
                );
              },
            }
          );
        };
      },
      if: function (t) {
        function i(t, e) {
          (e = 1 < arguments.length && void 0 !== e && e),
            (t = n.apply(null, t));
          e ? (u = t) : c.push(t);
        }
        function o(t) {
          var n = h.length;
          (t = g(t))[d](function (t) {
            var e = null;
            t
              ? (n < s || -1 === s) && (e = pe(c[(s = n)]).children)
              : 0 <= s && (e = f(s)),
              e &&
                r.forEach(function (t) {
                  return t(e);
                });
          }),
            h.push(t);
        }
        var n = this,
          r = [],
          a = document.createComment(''),
          u = null,
          c = [],
          s = 0,
          l = [],
          e = function (t) {
            if (!t) return a;
            var e = l[s];
            return e || ((e = pe(t).children), (l[s] = e));
          },
          f = function () {
            for (
              var t =
                0 < arguments.length && void 0 !== arguments[0]
                  ? arguments[0]
                  : 0;
              t < h.length;
              t++
            )
              if (!0 === h[t].value) return e(c[(s = t)]);
            return u ? ((s = h.length), e(u)) : ((s = -1), e());
          },
          h = [];
        return (
          o(t),
          function () {
            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
              e[n] = arguments[n];
            return (
              i(e),
              {
                exe: function () {
                  var e = f();
                  return (
                    r.push(function (t) {
                      t !== e && (ve(e, t), (e = t));
                    }),
                    ye(e)
                  );
                },
                elif: function (t) {
                  var r = this;
                  return (
                    o(t),
                    function () {
                      for (
                        var t = arguments.length, e = new Array(t), n = 0;
                        n < t;
                        n++
                      )
                        e[n] = arguments[n];
                      return i(e), r;
                    }
                  );
                },
                else: function () {
                  for (
                    var t = arguments.length, e = new Array(t), n = 0;
                    n < t;
                    n++
                  )
                    e[n] = arguments[n];
                  return i(e, !0), this;
                },
                type: 'if',
                mount: function () {
                  w(
                    0 < arguments.length && void 0 !== arguments[0]
                      ? arguments[0]
                      : 'body',
                    this
                  );
                },
              }
            );
          }
        );
      },
      show: function (t) {
        var i = g(t),
          o = this;
        return function () {
          for (var t = arguments.length, r = new Array(t), e = 0; e < t; e++)
            r[e] = arguments[e];
          return {
            exe: function () {
              var e = pe(o.apply(null, r)).children,
                t = i[d](function (t) {
                  le(e, t);
                }),
                n = ye(e);
              return le(n, t), n;
            },
            type: 'show',
            mount: function () {
              w(
                0 < arguments.length && void 0 !== arguments[0]
                  ? arguments[0]
                  : 'body',
                this
              );
            },
          };
        };
      },
      switch: function (t) {
        function n(t) {
          return (t = u.get(t) || u.get(i))
            ? c.get(t) || ((e = pe(t).children), c.set(t, e), e)
            : a;
          var e;
        }
        function o(t, e) {
          (t = r.apply(null, t)), u.set(e, t);
        }
        var r = this,
          i = Symbol('def'),
          a = document.createComment(''),
          u = new Map(),
          c = new Map(),
          s = g(t);
        return {
          exe: function () {
            var e = n(s.value);
            return (
              s[d](function (t) {
                (t = n(t)) !== e && (ve(e, t), (e = t));
              }),
              ye(e)
            );
          },
          case: function (r) {
            var i = this;
            return function () {
              for (
                var t = arguments.length, e = new Array(t), n = 0;
                n < t;
                n++
              )
                e[n] = arguments[n];
              return o(e, r), i;
            };
          },
          default: function () {
            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
              e[n] = arguments[n];
            return o(e, i), this;
          },
          type: 'switch',
          mount: function () {
            w(
              0 < arguments.length && void 0 !== arguments[0]
                ? arguments[0]
                : 'body',
              this
            );
          },
        };
      },
    },
    he = Object.assign(
      {
        model: function (t) {
          for (
            var e = arguments.length, c = new Array(1 < e ? e - 1 : 0), n = 1;
            n < e;
            n++
          )
            c[n - 1] = arguments[n];
          function r() {
            for (var t = arguments.length, u = new Array(t), e = 0; e < t; e++)
              u[e] = arguments[e];
            return {
              exe: function () {
                function t(t) {
                  (e = !0),
                    0 !== c.length &&
                      (c.includes('number')
                        ? (t = parseFloat(t))
                        : c.includes('camel') && (t = t.toLowerCase())),
                    (s.value = t);
                }
                var e = !1,
                  n = ae(l.apply(null, u)),
                  r = 'true' === n.contentEditable,
                  i = r
                    ? function () {
                        return n.textContent || '';
                      }
                    : function () {
                        return n.value || '';
                      },
                  o = r
                    ? function (t) {
                        n.textContent = t;
                      }
                    : function (t) {
                        n.value = t;
                      },
                  a =
                    (o(
                      s[d](function (t) {
                        e ? (e = !1) : o(t);
                      })
                    ),
                    !1);
                return (
                  n.addEventListener('compositionstart', function () {
                    a = !0;
                  }),
                  n.addEventListener('compositionend', function () {
                    (a = !1), t(i());
                  }),
                  n.addEventListener('input', function () {
                    a || t(i());
                  }),
                  'number' === n.getAttribute('type') && c.push('number'),
                  n
                );
              },
              type: 'model',
              mount: function () {
                w(
                  0 < arguments.length && void 0 !== arguments[0]
                    ? arguments[0]
                    : 'body',
                  this.exe()
                );
              },
            };
          }
          var s = g(t),
            l = this;
          return (
            (r.exe = function () {
              return r().exe();
            }),
            (r.mount = function () {
              w(
                0 < arguments.length && void 0 !== arguments[0]
                  ? arguments[0]
                  : 'body',
                r().exe()
              );
            }),
            (r.type = 'model'),
            r
          );
        },
      },
      fe
    );
  function pe(t) {
    var e = 'comp' === t.type;
    return {
      dom: (t = e ? ce(t.exe()) : ae(t)),
      children: e ? [].slice.call(t.children) : t,
    };
  }
  function de(t) {
    t instanceof Array
      ? t.forEach(function (t) {
          Jt(t);
        })
      : Jt(t);
  }
  function ve(t, e) {
    var n = t instanceof Array ? t[0] : t,
      r = n.parentElement;
    if (!r) throw new Error('parent not found');
    Kt(r, ye(e), n), de(t);
  }
  function ye(t) {
    var e;
    return t instanceof Array
      ? ((e = document.createDocumentFragment()),
        t.forEach(function (t) {
          e.appendChild(t);
        }),
        e)
      : t;
  }
  (e = [
    'a',
    'div',
    'h1',
    'h2',
    'h3',
    'h4',
    'h5',
    'h6',
    'button',
    'canvas',
    'code',
    'pre',
    'table',
    'th',
    'td',
    'tr',
    'video',
    'audio',
    'ol',
    'select',
    'option',
    'p',
    'i',
    'iframe',
    'img',
    'input',
    'label',
    'ul',
    'li',
    'span',
    'textarea',
    'form',
    'br',
    'tbody',
  ]),
    (r = [].concat(e, [
      'abbr',
      'article',
      'aside',
      'b',
      'base',
      'bdi',
      'bdo',
      'blockquote',
      'caption',
      'cite',
      'del',
      'details',
      'dialog',
      'em',
      'embed',
      'figure',
      'footer',
      'header',
      'hr',
      'menu',
      'nav',
      'noscript',
      'object',
      'progress',
      'section',
      'slot',
      'small',
      'strong',
      'sub',
      'summary',
      'sup',
      'template',
      'title',
      'var',
    ]));
  function me(S) {
    return Object.assign(function () {
      for (var e, t = arguments.length, k = new Array(t), n = 0; n < t; n++)
        k[n] = arguments[n];
      return (
        (e = k),
        {
          exe: function () {
            for (
              var t,
                e,
                n,
                r,
                i,
                o,
                a,
                u,
                c,
                s,
                l,
                f,
                h,
                p = S,
                d = k,
                v = {
                  tag: p,
                  children: [],
                  event: [],
                  binding: [],
                  styles: [],
                  pseudos: [],
                  domInfo: '',
                  lifes: {},
                  textContent: '',
                },
                y = 0;
              y < d.length;
              y++
            ) {
              var m = d[y];
              if ('number' == typeof m) v.textContent += m;
              else if ('string' == typeof m) {
                var g = re(m);
                g && (v.tag = g), (v.domInfo += ne(m));
              } else if (m instanceof Array || m instanceof HTMLElement)
                v.children.push(m);
              else if ('object' === Mt(m) && m)
                switch (m.type) {
                  case 'reaction':
                    v.binding.push({
                      template: ['', ''],
                      reactions: [m],
                      context: { type: 'dom-info' },
                    });
                    break;
                  case 'react':
                    var b,
                      w = m.exe({ type: 'dom-info' });
                    '/' === w.template[0][0] && ((b = It(w)), (v.tag = re(b))),
                      v.binding.push(w);
                    break;
                  case 'builder':
                  case 'if':
                  case 'show':
                  case 'model':
                  case 'switch':
                  case 'for':
                  case 'comp':
                    v.children.push(m);
                    break;
                  case 'on':
                    null != (b = v.event) && b.push(m);
                    break;
                  case 'style':
                    null != (w = v.styles) && w.push(m);
                    break;
                  case 'pseudo':
                    null != (t = v.pseudos) && t.push(m);
                    break;
                  case 'life':
                    v.lifes[m.name] = m;
                    break;
                  case 'html':
                    v.html = m;
                    break;
                  case 'text':
                    v.text = m;
                    break;
                  default:
                    console.warn('unkonwn builder', m);
                }
              else if ('function' == typeof m) {
                var x = m();
                switch (x.type) {
                  case 'builder':
                  case 'if':
                  case 'show':
                  case 'switch':
                  case 'for':
                  case 'comp':
                    v.children.push(x);
                    break;
                  case 'model':
                    v.children.push(x.exe());
                    break;
                  default:
                    x instanceof Array
                      ? d.splice.apply(d, [y, 1].concat(Wt(x)))
                      : d.splice(y, 1, x),
                      y--;
                }
              }
            }
            return (
              (p = v.tag),
              (e = v.className),
              (n = v.id),
              (r = v.textContent),
              (i = v.attributes),
              (o = v.children),
              (a = v.binding),
              (u = v.domInfo),
              (c = v.event),
              (s = v._if),
              (l = v.styles),
              (f = v.pseudos),
              (h = v.lifes),
              {
                tag: void 0 === p ? '' : p,
                className: void 0 === e ? [] : e,
                id: void 0 === n ? '' : n,
                textContent: void 0 === r ? '' : r,
                attributes: void 0 === i ? {} : i,
                children: o,
                binding: void 0 === a ? [] : a,
                domInfo: void 0 === u ? '' : u,
                event: void 0 === c ? [] : c,
                _if: s,
                styles: void 0 === l ? [] : l,
                pseudos: void 0 === f ? [] : f,
                lifes: void 0 === h ? {} : h,
                html: v.html,
                text: v.text,
              }
            );
          },
          type: 'builder',
          mount: function () {
            w(
              0 < arguments.length && void 0 !== arguments[0]
                ? arguments[0]
                : 'body',
              this
            );
          },
          _asParent: function (t) {
            e.push.apply(e, Wt(t));
          },
        }
      );
    }, he);
  }
  (ge = {}),
    r.map(function (t) {
      ge[t] = me(t);
    });
  var ge,
    be = ge,
    r = qt(
      e.map(function (t) {
        return be[t];
      }),
      34
    ),
    we = r[0],
    x = r[1],
    xe =
      (r[2],
      r[3],
      r[4],
      r[5],
      r[6],
      r[7],
      r[8],
      r[9],
      r[10],
      r[11],
      r[12],
      r[13],
      r[14],
      r[15],
      r[16],
      r[17],
      r[18],
      r[19],
      r[20],
      r[21],
      r[22],
      r[23],
      r[24],
      r[25]),
    o = (r[26], r[27], r[28], r[29]);
  function k(r) {
    return {
      exe: function (e, t) {
        var n;
        t
          ? (e.value =
              Ut(r, function (t) {
                e.value = t + '';
              }) + '')
          : ((n = document.createTextNode(
              Ut(r, function (t) {
                n.textContent = t + '';
              }) + ''
            )),
            e.appendChild(n));
      },
      type: 'text',
    };
  }
  function ke(i, o) {
    var a = [];
    return {
      exe: function () {
        for (
          var t = { props: {}, events: {}, slots: {} }, e = 0;
          e < o.length;
          e++
        ) {
          var n = o[e];
          if ('function' == typeof n) o.push.apply(o, Wt(n()));
          else if (n)
            switch (n.type) {
              case 'prop':
                t.props = n.exe();
                break;
              case 'event':
                t.events = n.exe();
                break;
              case 'slot':
                t.slots = n.exe();
            }
        }
        if (!i) throw new Error('Component not found');
        var r = i(t);
        return (
          0 < a.length && (r instanceof Array ? r.push(a) : (r = [r, a])), r
        );
      },
      type: 'comp',
      mount: function () {
        w(
          0 < arguments.length && void 0 !== arguments[0]
            ? arguments[0]
            : 'body',
          this
        );
      },
      _asParent: function (t) {
        a.push.apply(a, Wt(t));
      },
    };
  }
  r[30], r[31], r[32], r[33];
  var i = Object.assign(function (r) {
      return Object.assign(
        function () {
          for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
            e[n] = arguments[n];
          return ke(r, e);
        },
        ke(r, []),
        fe
      );
    }, fe),
    Se = function (i) {
      return {
        type: 'prop',
        exe: function () {
          var t,
            r = {};
          for (t in i)
            !(function (t) {
              var e = i[t],
                n =
                  'function' == typeof e
                    ? e
                    : Ft(e)
                    ? function () {
                        return e.value;
                      }
                    : function () {
                        return e;
                      };
              r[t] = _t(n);
            })(t);
          return r;
        },
      };
    },
    Ee = function (t) {
      return {
        type: 'slot',
        exe: function () {
          return t;
        },
      };
    },
    e = [
      'click',
      'mousedown',
      'mouseenter',
      'mouseleave',
      'mousemove',
      'mouseover',
      'mouseup',
      'touchend',
      'touchmove',
      'touchstart',
      'wheel',
      'input',
      'change',
    ],
    r = [].concat(e, [
      'fullscreenchange',
      'fullscreenerror',
      'copy',
      'cut',
      'paste',
      'abort',
      'auxclick',
      'beforeinput',
      'blur',
      'canplay',
      'canplaythrough',
      'close',
      'compositionend',
      'compositionstart',
      'compositionupdate',
      'contextmenu',
      'cuechange',
      'dblclick',
      'drag',
      'dragend',
      'dragenter',
      'dragleave',
      'dragover',
      'dragstart',
      'drop',
      'durationchange',
      'emptied',
      'ended',
      'error',
      'focus',
      'focusin',
      'focusout',
      'formdata',
      'gotpointercapture',
      'invalid',
      'keydown',
      'keypress',
      'keyup',
      'load',
      'loadeddata',
      'loadedmetadata',
      'loadstart',
      'lostpointercapture',
      'mouseout',
      'pause',
      'play',
      'playing',
      'pointercancel',
      'pointerdown',
      'pointerenter',
      'pointerleave',
      'pointermove',
      'pointerout',
      'pointerover',
      'pointerup',
      'progress',
      'ratechange',
      'reset',
      'resize',
      'scroll',
      'select',
      'selectionchange',
      'selectstart',
      'submit',
      'suspend',
      'timeupdate',
      'toggle',
      'touchcancel',
    ]);
  function Ae(o, a, e) {
    var u = [];
    return {
      args: function () {
        return u.push.apply(u, arguments), this;
      },
      exe: function (n) {
        var r, i;
        0 === e.length
          ? a &&
            n.addEventListener(o, function (t) {
              a.apply(n, [].concat(u, [t, n]));
            })
          : ((i = (r = function (t) {
              return e.includes(t);
            })('capture')),
            n.addEventListener(
              o,
              function t(e) {
                (r('self') && e.target !== n) ||
                  (r('stop') && e.stopPropagation(),
                  r('prevent') && e.preventDefault(),
                  a && a.apply(n, [].concat(u, [e])),
                  r('once') && n.removeEventListener(o, t, i));
              },
              i
            ));
      },
      type: 'on',
      name: o,
    };
  }
  function je(i) {
    return Object.assign(
      function (t) {
        for (
          var e = arguments.length, n = new Array(1 < e ? e - 1 : 0), r = 1;
          r < e;
          r++
        )
          n[r - 1] = arguments[r];
        return Ae(i, t, n);
      },
      { prevent: Ae(i, null, ['prevent']), stop: Ae(i, null, ['stop']) }
    );
  }
  (Oe = {}),
    r.map(function (t) {
      Oe[t] = je(t);
    });
  var Oe,
    _e = Oe,
    r = qt(
      e.map(function (t) {
        return _e[t];
      }),
      13
    ),
    Ce = r[0];
  function Ne(t) {
    return t < 10 ? '0'.concat(t) : t;
  }
  function Te(t, e) {
    e = t.indexOf(1 < arguments.length && void 0 !== e ? e : ' ');
    return -1 === e
      ? [t, '']
      : [t.substring(0, e).trim(), t.substring(e + 1).trim()];
  }
  function Pe() {
    return -1 !== navigator.userAgent.indexOf('Macintosh');
  }
  r[1], r[2], r[3], r[4], r[5], r[6], r[7], r[8], r[9], r[10], r[11], r[12];
  var A,
    j,
    De = b('admin'),
    Ie = b(''),
    Le = b(''),
    O =
      ((A = b({ text: '', list: [], enabled: !1 })),
      {
        get text() {
          return A.text;
        },
        get enabled() {
          return A.enabled;
        },
        get list() {
          return A.list;
        },
        setHint: function (t, e) {
          (A.text = t), (A.enabled = !0), (A.list[ht] = e);
        },
        hideHint: function () {
          A.enabled = !1;
        },
      }),
    _ =
      ((j = b({ enabled: !1, content: '', filepath: '', touch: !1 })),
      {
        get enabled() {
          return j.enabled;
        },
        get content() {
          return j.content;
        },
        get filepath() {
          return j.filepath;
        },
        get touch() {
          return j.touch;
        },
        enterEdit: function (t, e) {
          var n,
            r = 2 < arguments.length && void 0 !== arguments[2] && arguments[2];
          (j.content = e),
            (j.filepath = t),
            (j.enabled = !0),
            (j.touch = r),
            (e = document.querySelector('#Editor')),
            window.getSelection
              ? (e.focus(),
                null != (n = window.getSelection()) && n.selectAllChildren(e),
                null != n && n.collapseToEnd())
              : document.selection &&
                ((n = document.selection.createRange()).moveToElementText(e),
                n.collapse(!1),
                n.select());
        },
        quitEdit: function () {
          var t;
          (j.content = ''),
            (j.enabled = !1),
            null != (t = document.querySelector('#InputInput')) && t.focus();
        },
      }),
    C = (function () {
      function t() {
        a(this, t),
          (this.commandName = ''),
          (this.args = []),
          (this.subCommands = []),
          (this.subCommand = ''),
          (this.desc = ''),
          (this.hint = 'file'),
          (this.hintArray = []);
      }
      return (
        u(t, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <filename|filepath>';
            },
          },
          {
            key: 'handleArgs',
            value: function (t) {
              (this.args = t),
                (this.subCommand = ''),
                0 < t.length &&
                  this.subCommands.includes(this.args[0]) &&
                  (this.subCommand = this.args.shift());
            },
          },
          {
            key: 'success',
            value: function () {
              return {
                commandName: this.commandName,
                args: this.args,
                success: !0,
                message: '',
                result:
                  0 < arguments.length && void 0 !== arguments[0]
                    ? arguments[0]
                    : null,
              };
            },
          },
          {
            key: 'fail',
            value: function () {
              return {
                commandName: this.commandName,
                args: this.args,
                success: !1,
                message:
                  0 < arguments.length && void 0 !== arguments[0]
                    ? arguments[0]
                    : '',
                error:
                  1 < arguments.length && void 0 !== arguments[1]
                    ? arguments[1]
                    : null,
                result: null,
              };
            },
          },
        ]),
        t
      );
    })();
  function Re() {
    var t = p.join.apply(p, arguments),
      t = L.CurrentDir.findChildByPath(t);
    return t
      ? 'file' === t.type
        ? { success: !1, message: 'Target is not a directory: ' + t.name }
        : ((Ie.value = t.isDisk ? '' : t.name),
          (L.CurrentDir = t),
          { success: !0, message: '' })
      : { success: !1, message: 'Target not found' };
  }
  e = (function () {
    c(n, C);
    var e = s(n);
    function n() {
      var t;
      return (
        a(this, n),
        ((t = e.apply(this, arguments)).commandName = 'cd'),
        (t.desc = 'Go to the directory'),
        t
      );
    }
    return (
      u(n, [
        {
          key: 'help',
          get: function () {
            return this.commandName + ' <dirname>';
          },
        },
        {
          key: 'run',
          value: function (n) {
            return l(
              this,
              void 0,
              void 0,
              S().mark(function t() {
                var e;
                return S().wrap(
                  function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          if (
                            (this.handleArgs(n),
                            (e = Re.apply(void 0, $(n))).success)
                          )
                            return t.abrupt('return', this.success());
                          t.next = 6;
                          break;
                        case 6:
                          return t.abrupt('return', this.fail(e.message));
                        case 7:
                        case 'end':
                          return t.stop();
                      }
                  },
                  t,
                  this
                );
              })
            );
          },
        },
      ]),
      n
    );
  })();
  function Fe(t) {
    return (Fe =
      'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              'function' == typeof Symbol &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          })(t);
  }
  function Be(t, e) {
    return (
      (function (t) {
        if (Array.isArray(t)) return t;
      })(t) ||
      (function (t, e) {
        var n =
          null == t
            ? null
            : ('undefined' != typeof Symbol && t[Symbol.iterator]) ||
              t['@@iterator'];
        if (null != n) {
          var r,
            i,
            o = [],
            a = !0,
            u = !1;
          try {
            for (
              n = n.call(t);
              !(a = (r = n.next()).done) &&
              (o.push(r.value), !e || o.length !== e);
              a = !0
            );
          } catch (t) {
            (u = !0), (i = t);
          } finally {
            try {
              a || null == n.return || n.return();
            } finally {
              if (u) throw i;
            }
          }
          return o;
        }
      })(t, e) ||
      Ue(t, e) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  function ze(t) {
    return (
      (function (t) {
        if (Array.isArray(t)) return Me(t);
      })(t) ||
      (function (t) {
        if (
          ('undefined' != typeof Symbol && null != t[Symbol.iterator]) ||
          null != t['@@iterator']
        )
          return Array.from(t);
      })(t) ||
      Ue(t) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  function Ue(t, e) {
    if (t) {
      if ('string' == typeof t) return Me(t, e);
      var n = Object.prototype.toString.call(t).slice(8, -1);
      return 'Map' ===
        (n = 'Object' === n && t.constructor ? t.constructor.name : n) ||
        'Set' === n
        ? Array.from(t)
        : 'Arguments' === n ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
        ? Me(t, e)
        : void 0;
    }
  }
  function Me(t, e) {
    (null == e || e > t.length) && (e = t.length);
    for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
    return r;
  }
  function qe(t, e) {
    var n,
      r =
        ('undefined' != typeof Symbol && t[Symbol.iterator]) || t['@@iterator'];
    if (!r) {
      if (
        Array.isArray(t) ||
        (r = Ue(t)) ||
        (e && t && 'number' == typeof t.length)
      )
        return (
          r && (t = r),
          (n = 0),
          {
            s: (e = function () {}),
            n: function () {
              return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
            },
            e: function (t) {
              throw t;
            },
            f: e,
          }
        );
      throw new TypeError(
        'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
      );
    }
    var i,
      o = !0,
      a = !1;
    return {
      s: function () {
        r = r.call(t);
      },
      n: function () {
        var t = r.next();
        return (o = t.done), t;
      },
      e: function (t) {
        (a = !0), (i = t);
      },
      f: function () {
        try {
          o || null == r.return || r.return();
        } finally {
          if (a) throw i;
        }
      },
    };
  }
  var We,
    $e =
      'undefined' !== window.document.adoptedStyleSheets &&
      !!window.CSSStyleSheet;
  function He(t) {
    var e;
    return t
      ? Ge(t)
      : $e
      ? ((e = new CSSStyleSheet()),
        window.document.adoptedStyleSheets.push(e),
        function (t) {
          console.log(t), e.replace(t);
        })
      : Ge(document.head);
  }
  function Ge(t) {
    var e = document.createElement('style');
    return (
      t.appendChild(e),
      function (t) {
        e.textContent = t;
      }
    );
  }
  function Je() {
    return {
      cursorUrl: function () {
        for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
          e[n] = arguments[n];
        var r,
          i,
          o = e.map(function (t) {
            return 'string' == typeof (e = t) || 'number' == typeof e
              ? function () {
                  return e;
                }
              : 'react' === e.type
              ? function () {
                  return It(e.exe({ type: 'computed' }));
                }
              : e;
            var e;
          });
        return {
          cursor: b(
            (We =
              We ||
              ((r = ["url('", "'), ", '']),
              (i = i || r.slice(0)),
              Object.freeze(
                Object.defineProperties(r, { raw: { value: Object.freeze(i) } })
              ))),
            o[0],
            o[1] || 'default'
          ),
        };
      },
    };
  }
  var Ve,
    Qe,
    Ye,
    Ke,
    Xe = 'i',
    Ze = 'px',
    r =
      ((Ve = {
        generate: function () {
          var t =
              0 < arguments.length && void 0 !== arguments[0]
                ? arguments[0]
                : 0,
            e = N(this._result).generate(t);
          return (
            0 !== this._styles.length &&
              this._styles.forEach(function (t) {
                e.scopeTemplate += dn(t, e.scopeReactions);
              }),
            e
          );
        },
        exe: function (e) {
          return (
            0 < this._styles.length &&
              this._styles.forEach(function (t) {
                'string' == typeof t || 'react' === t.type
                  ? N(t).exe(e)
                  : 'style' === t.type
                  ? t.exe(e)
                  : 'object' === Fe(t) && N(t).exe(e);
              }),
            N(this._result).exe(e)
          );
        },
        join: function () {
          var t;
          return (t = this._styles).push.apply(t, arguments), this;
        },
        type: 'style',
      }),
      (Qe = {
        join: function () {
          for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
            e[n] = arguments[n];
          return Object.assign({ _result: {}, _styles: [].concat(e) }, Ve);
        },
      }),
      [
        'paddingTop',
        'paddingBottom',
        'paddingLeft',
        'paddingRight',
        'marginTop',
        'marginBottom',
        'marginLeft',
        'marginRight',
        'fontSize',
        'lineHeight',
        'top',
        'left',
        'bottom',
        'right',
        'borderRadius',
        'textIndent',
        'width',
        'maxWidth',
        'minWidth',
        'height',
        'maxHeight',
        'minHeight',
        'flexBasis',
        'opacity',
        'zIndex',
        'flex',
        'flexGrow',
        'flexShrink',
        'margin',
        'padding',
        'textDecoration',
        'position',
        'alignItems',
        'justifyContent',
        'display',
        'alignContent',
        'backgroundAttachment',
        'backgroundBlendMode',
        'backgroundClip',
        'backgroundOrigin',
        'backgroundRepeat',
        'boxSizing',
        'clear',
        'textAlign',
        'wordWrap',
        'whiteSpace',
        'wordBreak',
        'wordSpacing',
        'verticalAlign',
        'fontStyle',
        'flexDirection',
        'flexWrap',
        'resize',
        'textOverflow',
        'float',
        'visibility',
        'overflow',
        'overflowX',
        'overflowY',
        'cursor',
        'border',
        'borderBottom',
        'borderTop',
        'borderLeft',
        'borderRight',
        'boxShadow',
        'fontFamily',
        'fontWeight',
        'animation',
        'backgroundImage',
        'backgroundSize',
        'backgroundPosition',
        'backdropFilter',
        'filter',
        'transform',
        'transition',
        'outline',
        'clip',
        'flexFlow',
        'textShadow',
        'content',
        'color',
        'backgroundColor',
        'borderColor',
      ].forEach(function (r) {
        (Ve[r] = function () {
          for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
            e[n] = arguments[n];
          return (
            (this._result[r] = function (t, e, n, r) {
              n === Xe && ((r = Xe), (n = ''));
              var i = ''.concat(n || '').concat(r === Xe ? '!important' : ''),
                o = !!n || un.includes(t);
              return 'number' == typeof e || 'string' == typeof e
                ? en(o, e, i)
                : 'react' === e.type
                ? function () {
                    return en(o, It(e.exe({ type: 'style' })), i);
                  }
                : 'function' == typeof e
                ? function () {
                    return en(o, e(), i);
                  }
                : function () {
                    return en(o, e.value, i);
                  };
            }.apply(null, [r].concat(e))),
            this
          );
        }),
          tn(r);
      }),
      (Ye = {
        borderBox: { boxSizing: 'border-box' },
        relative: { position: 'relative' },
        absolute: { position: 'absolute' },
        fixed: { position: 'fixed' },
      }),
      Object.keys(Ye).forEach(function (t) {
        (Ve[t] = function () {
          return Object.assign(this._result, Ye[t]), this;
        }),
          tn(t);
      }),
      (Ke = Je()),
      Object.keys(Ke).forEach(function (t) {
        Ve[t] = function () {
          return Object.assign(this._result, Ke[t].apply(Ke, arguments)), this;
        };
      }),
      Qe);
  function tn(e) {
    Qe[e] = function () {
      var t;
      return (t = Object.assign({ _result: {}, _styles: [] }, Ve))[e].apply(
        t,
        arguments
      );
    };
  }
  function en(t, e, n) {
    return t || 'string' == typeof e || 'number' != typeof e
      ? e + n
      : ''.concat(e).concat(Ze).concat(n);
  }
  var nn = ['animation', 'transform', 'filter', 'transition'],
    rn = ['webkit', 'moz', 'ms', 'o'],
    on = new RegExp('('.concat(nn.join('|'), ') *:.*?(;|$)'), 'g');
  function an(t) {
    return t.replace(on, function (e) {
      var n = e;
      return (
        rn.forEach(function (t) {
          n += '-'.concat(t, '-').concat(e);
        }),
        n
      );
    });
  }
  var un = ['zIndex', 'opacity', 'flex', 'flexGrow', 'flexShrink'],
    N = Object.assign(function (a) {
      for (
        var t = arguments.length, u = new Array(1 < t ? t - 1 : 0), e = 1;
        e < t;
        e++
      )
        u[e - 1] = arguments[e];
      return {
        generate: function () {
          var r =
              0 < arguments.length && void 0 !== arguments[0]
                ? arguments[0]
                : 0,
            i = '',
            o = [];
          if ('string' == typeof a) i += T(a, !0);
          else if (ct(a)) {
            var t = a;
            0 === u.length
              ? (i += T(t[0], !0))
              : ((i += T(jt(t, r), !0)), o.push.apply(o, u));
          } else if ('react' === a.type) {
            var e = (t = a.exe({ type: 'style' })).template,
              t = t.reactions;
            (i += T(jt(e, r), !0)), t.push.apply(t, ze(t));
          } else {
            if ('object' !== Fe(a) && null === a)
              return (
                console.warn('Invalid style arguments', a, u),
                { scopeTemplate: '', scopeReactions: [] }
              );
            for (var n in a)
              !(function (e) {
                var t = (n = (function (t, e, n, r) {
                    var i,
                      e = 1 < arguments.length && void 0 !== e ? e : 0,
                      n = 2 < arguments.length ? n : void 0,
                      r = 3 < arguments.length ? r : void 0,
                      o = '',
                      a = [];
                    return (
                      'string' == typeof t || 'number' == typeof t
                        ? (o += n ? n(t) : t)
                        : 'react' === t.type
                        ? ((i = (n = t.exe({ type: 'style' })).template),
                          0 < (n = n.reactions).length
                            ? ((o = jt(i, e)), a.push.apply(a, mt(n)))
                            : (o = i.join('')))
                        : ((n = g(t)), r && (n = r(n)), (o = St(e)), a.push(n)),
                      { reactions: a, template: o }
                    );
                  })(
                    a[e],
                    o.length + r,
                    function (t) {
                      return ln(e, t);
                    },
                    function (t) {
                      return fn(e, t.value)
                        ? _t(function () {
                            return t.value + Ze;
                          })
                        : t;
                    }
                  )).reactions,
                  n = n.template;
                0 < t.length && o.push.apply(o, ze(t)),
                  (i += ''.concat(sn(e), ':').concat(n, ';'));
              })(n);
          }
          return { scopeTemplate: an(i), scopeReactions: o };
        },
        exe: function (t) {
          var e = t.getAttribute('style') || '',
            n = '';
          if ('string' == typeof a) n += T(a, !0);
          else if (ct(a))
            0 === u.length ? (n += a[0]) : (n = cn(a, u, t.style, n));
          else if ('react' === a.type)
            var r = a.exe({ type: 'style' }),
              n = cn(r.template, r.reactions, t.style, n);
          else if ('object' === Fe(a) || null !== a) {
            var i,
              o = t.style;
            for (i in a)
              !(function (e) {
                var t = Ut(a[e], function (t) {
                  hn(o, e, t);
                });
                n += ''.concat(sn(e), ':').concat(ln(e, t), ';');
              })(i);
          } else console.warn('Invalid style arguments');
          t.setAttribute('style', e + an(n));
        },
        mount: function (t) {
          if (!(t = 'string' == typeof t ? document.querySelector(t) : t))
            throw new Error('invalid dom');
          this.exe(t);
        },
        react: function () {
          var t = this.generate(),
            e = t.scopeReactions,
            n = t.scopeTemplate.split(bt);
          return function () {
            return It({ template: n, reactions: e });
          };
        },
        type: 'style',
      };
    }, r);
  function cn(t, e, n, r) {
    return (
      (r += (t = Be(T(jt(t)), 2))[0]) +
      (function (i, o, a) {
        var t,
          u = '';
        for (t in o)
          !(function (t) {
            var e,
              n = '',
              r = m(
                t,
                a,
                function (t, e) {
                  (i[e] = ''), hn(i, t, n), (r = t);
                },
                !0
              ),
              n = m(o[t], a, function (t) {
                hn(i, r, t), (n = t);
              });
            u +=
              ((t = r), (e = n), ''.concat(sn(t), ':').concat(ln(t, e), ';'));
          })(t);
        return u;
      })(n, t[1], e)
    );
  }
  function sn(t) {
    return t.replace(/[A-Z]/g, function (t) {
      return '-' + t.toLowerCase();
    });
  }
  function ln(t, e) {
    return e + (fn(t, e) ? Ze : '');
  }
  function fn(t, e) {
    return 'number' == typeof e && !un.includes(t);
  }
  function T(t, e) {
    var n = 1 < arguments.length && void 0 !== e && e;
    if (!t) return t;
    for (var r = t.split(/[;\n]/), i = '', o = {}, a = 0; a < r.length; a++) {
      var u,
        c,
        s,
        l = r[a].trim();
      l &&
        ((u = (c = Be(st(l, ':'), 2))[0]),
        (c = c[1]) &&
          ((s = sn(u)),
          bt.test(l) && !n
            ? (o[u] = c)
            : (i += ''.concat(s, ':').concat(c, ';'))));
    }
    return n ? i : [i, o];
  }
  function hn(t, e, n) {
    var r, i, o;
    (n = ln(e, n)),
      (t[e] = n),
      (r = t),
      (i = e),
      (o = n),
      nn.includes(i) &&
        rn.forEach(function (t) {
          r['-'.concat(t, '-').concat(i)] = o;
        });
  }
  function pn() {
    var i = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : '';
    return function () {
      for (var t = arguments.length, r = new Array(t), e = 0; e < t; e++)
        r[e] = arguments[e];
      function n(t) {
        var e = (function t(e, n) {
            var r,
              i =
                2 < arguments.length && void 0 !== arguments[2]
                  ? arguments[2]
                  : '',
              o =
                3 < arguments.length && void 0 !== arguments[3]
                  ? arguments[3]
                  : [],
              a = vn(i, e),
              u = '',
              c = '',
              s = qe(n);
            try {
              for (s.s(); !(r = s.n()).done; ) {
                var l,
                  f = r.value;
                f instanceof Array
                  ? ((u += (l = t(f[0], f.slice(1), a, o)).template),
                    o.push.apply(o, ze(l.reactions)))
                  : (c += dn(f, o));
              }
            } catch (e) {
              s.e(e);
            } finally {
              s.f();
            }
            return (
              (c = an(c)),
              {
                template: (a
                  ? ''.concat(a, '{').concat(c, '}')
                  : ''.concat(c)
                ).concat(u),
                reactions: o,
              }
            );
          })(i, r),
          n = e.template;
        0 < (e = e.reactions).length ? t(m(n, e, t)) : t(n);
      }
      return {
        reactiveStyle: n,
        mount: function (t) {
          var e = null;
          if (t && !(e = 'string' == typeof t ? document.querySelector(t) : t))
            throw new Error('Invalid mount target');
          return n(He(e));
        },
      };
    };
  }
  function dn(t, e) {
    var n,
      r,
      i = '';
    return (
      'string' == typeof t
        ? (i = t)
        : 'object' === Fe(t) &&
          (i =
            'react' === t.type
              ? ((n = t.exe({ type: 'style' })),
                (r = e.length),
                e.push.apply(e, ze(n.reactions)),
                jt(n.template, r))
              : ((r = (n = (t = 'style' !== t.type ? N(t) : t).generate(
                  e.length
                )).scopeReactions),
                (t = n.scopeTemplate),
                e.push.apply(e, ze(r)),
                t)),
      T(i, !0)
    );
  }
  function vn(t, e) {
    return t || e
      ? '&' === e[0]
        ? ''.concat(t).concat(e.substring(1))
        : ''.concat(t, ' ').concat(e)
      : '';
  }
  He();
  var yn = '_webos_',
    mn = window.localStorage;
  function gn(t) {
    if (null === t) return null;
    var e = t.indexOf(':'),
      n = 'string';
    if (
      (-1 !== e &&
        ((r = t.substr(0, e)),
        -1 !==
          ['string', 'number', 'boolean', 'object', 'undefined'].indexOf(r) &&
          ((n = r), (t = t.substr(e + 1)))),
      'number' === n)
    )
      return parseFloat(t);
    if ('boolean' === n) return 'true' === t;
    if ('object' !== n) return t;
    var r = t;
    if ('object' === v(r)) return r;
    try {
      return JSON.parse(r);
    } catch (t) {
      return null;
    }
  }
  var bn = {
      read: function (t) {
        return gn(mn.getItem(t + yn));
      },
      write: function (t, e) {
        return (
          (t = t),
          'object' === (n = v((e = e)))
            ? (e = JSON.stringify(e))
            : 'string' !== n && (e = e.toString()),
          void mn.setItem(t + yn, ''.concat(n, ':').concat(e))
        );
        var n;
      },
      remove: function (t) {
        return mn.removeItem(t);
      },
    },
    wn = N.fontFamily('Menlo, Monaco, "Courier New", monospace'),
    P = {
      Blue: N.color('#5f5fff'),
      Success: N.color('#4d4'),
      Fail: N.color('#f00'),
      Warn: N.color('#ffb300'),
      Gray: N.color('#bbb'),
    };
  function xn() {
    var t = 'last_login',
      e = bn.read(t);
    return (
      bn.write(
        t,
        (function (t) {
          return (
            (t = 0 < arguments.length && void 0 !== t ? t : new Date()),
            ''
              .concat(t.getFullYear(), '-')
              .concat(Ne(t.getMonth()), '-')
              .concat(Ne(t.getDate()), ' ')
              .concat(Ne(t.getHours()), ':')
              .concat(Ne(t.getMinutes()), ':')
              .concat(Ne(t.getSeconds()))
          );
        })()
      ),
      x(
        N.marginBottom(20),
        x(N.marginBottom(5), e ? 'Last login: '.concat(e) : 'First Login!'),
        x(
          N.marginBottom(10),
          we('Web-OS', P.Blue, '[href=https://github.com/theajack/webos]'),
          o(' made by '),
          we('theajack', P.Blue, '[href=https://github.com/theajack]'),
          o(', UI is Powered by '),
          we('alins', P.Blue, '[href=https://github.com/alinsjs/alins]')
        ),
        x('Use `help` command to Start!')
      )
    );
  }
  var kn = '#TermHistory';
  function Sn() {
    return x(kn, Ce.stop, N.color('#bbb').lineHeight(20), i(xn));
  }
  r = (function () {
    c(n, C);
    var e = s(n);
    function n() {
      var t;
      return (
        a(this, n),
        ((t = e.apply(this, arguments)).commandName = 'clear'),
        (t.hint = 'none'),
        (t.desc = 'Clear console'),
        t
      );
    }
    return (
      u(n, [
        {
          key: 'help',
          get: function () {
            return this.commandName;
          },
        },
        {
          key: 'run',
          value: function () {
            return l(
              this,
              void 0,
              void 0,
              S().mark(function t() {
                var e;
                return S().wrap(
                  function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          if ((e = document.querySelector(kn)))
                            return (
                              (e.innerHTML = ''),
                              t.abrupt('return', this.success())
                            );
                          t.next = 6;
                          break;
                        case 6:
                          return t.abrupt(
                            'return',
                            this.fail('history not found')
                          );
                        case 7:
                        case 'end':
                          return t.stop();
                      }
                  },
                  t,
                  this
                );
              })
            );
          },
        },
      ]),
      n
    );
  })();
  function En(t) {
    return o(N.marginRight(20), k(t));
  }
  function An(t) {
    return o(N.marginRight(20), k(t.name));
  }
  var jn = (function () {
    c(n, C);
    var e = s(n);
    function n() {
      var t;
      return (
        a(this, n),
        ((t = e.apply(this, arguments)).commandName = 'ls'),
        (t.desc = 'Displays subfile information'),
        t
      );
    }
    return (
      u(n, [
        {
          key: 'help',
          get: function () {
            return this.commandName + ' <dirname>';
          },
        },
        {
          key: 'run',
          value: function (n) {
            return l(
              this,
              void 0,
              void 0,
              S().mark(function t() {
                var e;
                return S().wrap(
                  function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          if (
                            (this.handleArgs(n),
                            !(e = L.CurrentDir.findDirByPath(p.join(n[0]))))
                          ) {
                            t.next = 8;
                            break;
                          }
                          if ('file' === e.type)
                            return t.abrupt(
                              'return',
                              this.fail('Target is not a directory: ' + e.name)
                            );
                          t.next = 5;
                          break;
                        case 5:
                          return t.abrupt(
                            'return',
                            this.success(e.ls().map(En))
                          );
                        case 8:
                          return t.abrupt(
                            'return',
                            this.fail('history not found')
                          );
                        case 9:
                        case 'end':
                          return t.stop();
                      }
                  },
                  t,
                  this
                );
              })
            );
          },
        },
      ]),
      n
    );
  })();
  var On = (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'pwd'),
          (t.desc = 'show current path'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName;
            },
          },
          {
            key: 'run',
            value: function (e) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            return (
                              this.handleArgs(e),
                              t.abrupt('return', this.success(L.CurrentPath))
                            );
                          case 2:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    _n = (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'mkdir'),
          (t.desc = 'Create a directory'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <dirname>';
            },
          },
          {
            key: 'run',
            value: function (n) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if ((this.handleArgs(n), (e = n[0]))) {
                              t.next = 4;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('mkdir: Dir name is empty')
                            );
                          case 4:
                            return (
                              (t.prev = 4),
                              (t.next = 7),
                              L.CurrentDir.createChildByPath(e, !0)
                            );
                          case 7:
                            if (t.sent)
                              return t.abrupt(
                                'return',
                                this.success(x('success'))
                              );
                            t.next = 9;
                            break;
                          case 9:
                            return t.abrupt(
                              'return',
                              this.fail(
                                'mkdir failed: Target Path is exist:' + e
                              )
                            );
                          case 12:
                            return (
                              (t.prev = 12),
                              (t.t0 = t.catch(4)),
                              console.error(t.t0),
                              t.abrupt(
                                'return',
                                this.fail('mkdir failed: ' + e)
                              )
                            );
                          case 16:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this,
                    [[4, 12]]
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })();
  function Cn(e) {
    return l(
      this,
      void 0,
      void 0,
      S().mark(function t() {
        return S().wrap(
          function (t) {
            for (;;)
              switch ((t.prev = t.next)) {
                case 0:
                  return (
                    (t.prev = 0),
                    (t.next = 3),
                    L.CurrentDir.createChildByPath(e, !1)
                  );
                case 3:
                  if (t.sent) return t.abrupt('return', '');
                  t.next = 5;
                  break;
                case 5:
                  return t.abrupt(
                    'return',
                    'Touch failed: Target File is exist:' + e
                  );
                case 8:
                  return (
                    (t.prev = 8),
                    (t.t0 = t.catch(0)),
                    console.error(t.t0),
                    t.abrupt('return', 'Touch failed: ' + e)
                  );
                case 12:
                case 'end':
                  return t.stop();
              }
          },
          t,
          null,
          [[0, 8]]
        );
      })
    );
  }
  var Nn = (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'touch'),
          (t.desc = 'Create file'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <filename>';
            },
          },
          {
            key: 'run',
            value: function (r) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e, n;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if ((this.handleArgs(r), (e = r[0]))) {
                              t.next = 4;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Touch: Dir name is empty')
                            );
                          case 4:
                            return (t.next = 6), Cn(e);
                          case 6:
                            if ((n = t.sent)) {
                              t.next = 9;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.success(x(k('Touch File Success: ' + e)))
                            );
                          case 9:
                            return t.abrupt('return', this.fail(n));
                          case 10:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    Tn = { FontSize: N.fontSize(16), SuccessColor: P.Success },
    Pn =
      (pn()(
        ['::-webkit-scrollbar', N({ width: 5, cursor: 'pointer', height: 5 })],
        [
          '::-webkit-scrollbar-button, ::-webkit-scrollbar-track',
          N({ display: 'none' }),
        ],
        [
          '::-webkit-scrollbar-thumb',
          N({ backgroundColor: 'hsla(0,0%,53.3%,.4)', cursor: 'pointer' }),
        ],
        [
          '::-webkit-scrollbar-track-piece',
          N({ backgroundColor: 'hsla(0,0%,53.3%,.06666666666666667)' }),
        ]
      ).mount(),
      pn('body')(
        N.backgroundColor('#111')
          .color('#fff')
          .join(Tn.FontSize)
          .margin(0)
          .padding(15),
        wn
      ).mount(),
      N.padding(10)
        .outline('none')
        .border('1px solid #444')
        .margin('10px 0')
        .join({
          WebkitUserModify: 'read-write-plaintext-only',
          minHeight: '100px',
        })),
    Dn = N.textDecoration('underline')
      .color('#5f5fff')
      .cursor('pointer')
      .marginRight(10);
  function In(t) {
    t = 'string' == typeof t ? p.join([t]) : p.join.apply(p, $(t));
    return L.CurrentDir.findChildByPath(t);
  }
  var Ln = (function () {
    c(n, C);
    var e = s(n);
    function n() {
      var t;
      return (
        a(this, n),
        ((t = e.apply(this, arguments)).commandName = 'cat'),
        (t.desc = 'Displat file content'),
        t
      );
    }
    return (
      u(n, [
        {
          key: 'help',
          get: function () {
            return this.commandName + ' <filename>';
          },
        },
        {
          key: 'run',
          value: function (r) {
            return l(
              this,
              void 0,
              void 0,
              S().mark(function t() {
                var e, n;
                return S().wrap(
                  function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          if ((this.handleArgs(r), (e = In(r)))) {
                            t.next = 4;
                            break;
                          }
                          return t.abrupt(
                            'return',
                            this.fail('Target is not exist')
                          );
                        case 4:
                          if (e.isDir)
                            return t.abrupt(
                              'return',
                              this.fail('Target is not a file')
                            );
                          t.next = 6;
                          break;
                        case 6:
                          if ((n = e).content) {
                            t.next = 9;
                            break;
                          }
                          return t.abrupt(
                            'return',
                            this.success(
                              x(Tn.SuccessColor, 'File content is empty')
                            )
                          );
                        case 9:
                          return t.abrupt('return', this.success(n.content));
                        case 10:
                        case 'end':
                          return t.stop();
                      }
                  },
                  t,
                  this
                );
              })
            );
          },
        },
      ]),
      n
    );
  })();
  function Rn(t) {
    var e = b('ping '.concat(t)),
      n = b(P.Blue._result.color),
      r = '',
      i = Date.now(),
      o = setInterval(function () {
        r.length < 3 ? (r += '.') : (r = ''),
          (e.value = 'ping '.concat(t).concat(r)),
          5e3 < Date.now() - i &&
            ((e.value = 'ping '
              .concat(t, ' Timeout! time=')
              .concat(Date.now() - i, 'ms')),
            (n.value = P.Fail._result.color),
            clearInterval(o));
      }, 500),
      a = function () {
        (e.value = 'ping '
          .concat(t, ' success! ttl=')
          .concat(Date.now() - i, 'ms')),
          (n.value = P.Success._result.color),
          clearInterval(o);
      },
      u = 0 === (u = t).indexOf('http') ? u : 'https://'.concat(u),
      c = new XMLHttpRequest();
    c.open('get', u, !0);
    try {
      c.send();
    } catch (t) {}
    return (
      (c.onreadystatechange = function () {
        4 === c.readyState && a();
      }),
      x(N.color(n), k(e))
    );
  }
  function Fn(n) {
    function t(e) {
      return function (t) {
        x(k(t), e).mount(n);
      };
    }
    return {
      log: t(P.Gray),
      error: t(P.Fail),
      warn: t(P.Warn),
      info: t(P.Blue),
      table: t(P.Gray),
      clear: function () {},
    };
  }
  var Bn = {
      github: 'github.com',
      npm: 'www.npm.com',
      baidu: 'www.baidu.com',
      腾讯视频: 'https://v.qq.com',
      网易云音乐: 'https://music.163.com/',
      qq: 'www.qq.com',
      w3school: 'www.w3school.com.cn',
      runoob: 'www.runoob.com',
      vue: 'https://vuejs.org/',
      react: 'https://reactjs.org/',
      angular: 'https://angular.io',
      alins: 'https://alinsjs.github.io/docs/',
      掘金: 'https://juejin.cn/',
      csdn: 'https://www.csdn.net/',
      gitee: 'www.gitee.com',
    },
    zn = {};
  var Un = {};
  function Mn(t) {
    return Un[t];
  }
  var qn = [
    r,
    jn,
    e,
    On,
    _n,
    Nn,
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'vim'),
          (t.desc = 'Edit file content'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <filename>';
            },
          },
          {
            key: 'run',
            value: function (o) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e, n, r, i;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (
                              (this.handleArgs(o),
                              (e = In(o)),
                              (n = ''),
                              (r = !1),
                              e)
                            ) {
                              t.next = 13;
                              break;
                            }
                            return (t.next = 7), Cn(o[0]);
                          case 7:
                            if ((i = t.sent))
                              return t.abrupt('return', this.fail(i));
                            t.next = 10;
                            break;
                          case 10:
                            (r = !0), (t.next = 17);
                            break;
                          case 13:
                            if (e.isDir)
                              return t.abrupt(
                                'return',
                                this.fail('Target is not a file')
                              );
                            t.next = 15;
                            break;
                          case 15:
                            n = e.content;
                          case 17:
                            return (
                              setTimeout(function () {
                                var t = e
                                  ? e.path.path
                                  : p.join(L.CurrentPath, o[0]);
                                _.enterEdit(t, n, r);
                              }),
                              t.abrupt('return', this.success())
                            );
                          case 19:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    Ln,
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'rm'),
          (t.desc = 'Remove file or directory'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'run',
            value: function (n) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if ((this.handleArgs(n), (e = In(n)))) {
                              t.next = 4;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Target is not exist')
                            );
                          case 4:
                            return (t.next = 6), e.remove();
                          case 6:
                            return t.abrupt(
                              'return',
                              this.success('Removed '.concat(e.path.path, '!'))
                            );
                          case 7:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'cp'),
          (t.desc = 'Copy file or directory'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <source> <target>';
            },
          },
          {
            key: 'run',
            value: function (o) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e, n, r, i;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (
                              (this.handleArgs(o),
                              (n = W(o, 2)),
                              (e = n[0]),
                              (n = n[1]),
                              e)
                            ) {
                              t.next = 4;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Source path is empty!')
                            );
                          case 4:
                            if (n) {
                              t.next = 6;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Target path is empty!')
                            );
                          case 6:
                            if ((r = In(e))) {
                              t.next = 9;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Source is not exist')
                            );
                          case 9:
                            if ((i = In(n))) {
                              t.next = 12;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Target is not exist')
                            );
                          case 12:
                            if (i.isDir) {
                              t.next = 14;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Target is not a directory')
                            );
                          case 14:
                            return (
                              i.paste(r.copy()),
                              t.abrupt(
                                'return',
                                this.success(
                                  'Copy success '
                                    .concat(r.path.path, ' => ')
                                    .concat(i.path.path)
                                    .concat(r.path.path)
                                )
                              )
                            );
                          case 16:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'ping'),
          (t.desc = 'Ping url address'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <url address>';
            },
          },
          {
            key: 'run',
            value: function (n) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if ((this.handleArgs(n), (e = n[0]))) {
                              t.next = 4;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Ping targer is Empty!')
                            );
                          case 4:
                            return t.abrupt('return', this.success(Rn(e)));
                          case 5:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'help'),
          (t.desc = 'Get help'),
          (t.hint = 'command'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <command name>';
            },
          },
          {
            key: 'run',
            value: function (i) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e, n, r;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (
                              (this.handleArgs(i),
                              (n = qn.map(function (t) {
                                return {
                                  commandName: t.commandName,
                                  help: t.help,
                                  desc: t.desc,
                                };
                              })),
                              (e = i[0]),
                              0 ===
                                (n = e
                                  ? n.filter(function (t) {
                                      return t.commandName === e;
                                    }) || []
                                  : n).length)
                            )
                              return t.abrupt(
                                'return',
                                this.fail('Command Not Found')
                              );
                            t.next = 6;
                            break;
                          case 6:
                            return (
                              (r = n.map(function (t) {
                                return x(
                                  o(
                                    N.display('inline-block').width(60),
                                    t.commandName
                                  ),
                                  o(
                                    N.display('inline-block').width(250),
                                    t.help
                                  ),
                                  o(k(t.desc))
                                );
                              })).unshift(
                                x(
                                  P.Blue,
                                  o(
                                    N.display('inline-block').width(60),
                                    'Name'
                                  ),
                                  o(
                                    N.display('inline-block').width(250),
                                    'Useage'
                                  ),
                                  o('Description')
                                )
                              ),
                              t.abrupt('return', this.success(r))
                            );
                          case 9:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'run'),
          (t.desc = 'run js file, use console to log result'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <filename>';
            },
          },
          {
            key: 'run',
            value: function (i) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e, n, r;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if ((this.handleArgs(i), (e = In(i)))) {
                              t.next = 4;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.fail('Target is not exist')
                            );
                          case 4:
                            if (e.isDir)
                              return t.abrupt(
                                'return',
                                this.fail('Target is not a file')
                              );
                            t.next = 6;
                            break;
                          case 6:
                            if ((n = e).content) {
                              t.next = 9;
                              break;
                            }
                            return t.abrupt(
                              'return',
                              this.success('File content is Empty!')
                            );
                          case 9:
                            return (
                              (r = x(
                                x(
                                  P.Success,
                                  k('Running: '.concat(n.path.path))
                                ),
                                x(
                                  Pn.join({ minHeight: 'auto' }),
                                  k(n.content + '')
                                ),
                                ee(function (t) {
                                  new Function(
                                    'console',
                                    '' + n.content
                                  )(Fn(t));
                                })
                              )),
                              t.abrupt('return', this.success(r))
                            );
                          case 11:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'find'),
          (t.desc = 'Filter file or directory with name'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <querystring>';
            },
          },
          {
            key: 'run',
            value: function (n) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (
                              (this.handleArgs(n),
                              0 === (e = L.CurrentDir.filerChild(n[0])).length)
                            )
                              return t.abrupt(
                                'return',
                                this.fail('No file or directory found')
                              );
                            t.next = 5;
                            break;
                          case 5:
                            return t.abrupt(
                              'return',
                              this.success(
                                e.map(function (t) {
                                  return x(
                                    k(
                                      ''
                                        .concat(t.path.path)
                                        .concat(t.isDir ? '/' : '')
                                    )
                                  );
                                })
                              )
                            );
                          case 6:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'baidu'),
          (t.desc = 'Search with baidu'),
          (t.hint = 'none'),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <content>';
            },
          },
          {
            key: 'run',
            value: function (e) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            return (
                              this.handleArgs(e),
                              window.open(
                                'https://www.baidu.com/s?wd='.concat(
                                  e.join(' ')
                                )
                              ),
                              t.abrupt('return', this.success())
                            );
                          case 3:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
    (function () {
      c(n, C);
      var e = s(n);
      function n() {
        var t;
        return (
          a(this, n),
          ((t = e.apply(this, arguments)).commandName = 'open'),
          (t.desc = 'Open website'),
          (t.hint = 'custom'),
          (t.hintArray = Object.keys(Bn)),
          t
        );
      }
      return (
        u(n, [
          {
            key: 'help',
            get: function () {
              return this.commandName + ' <content>';
            },
          },
          {
            key: 'run',
            value: function (r) {
              return l(
                this,
                void 0,
                void 0,
                S().mark(function t() {
                  var e, n;
                  return S().wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            return (
                              this.handleArgs(r),
                              (e = r[0]),
                              (n = function (t) {
                                return 0 === t.indexOf('http')
                                  ? t
                                  : 'https://'.concat(t);
                              }),
                              Bn[e] ? window.open(n(Bn[e])) : window.open(n(e)),
                              t.abrupt('return', this.success())
                            );
                          case 5:
                          case 'end':
                            return t.stop();
                        }
                    },
                    t,
                    this
                  );
                })
              );
            },
          },
        ]),
        n
      );
    })(),
  ].map(function (t) {
    t = new t();
    return (Un[t.commandName] = t);
  });
  function Wn() {
    return qn.map(function (t) {
      return t.commandName;
    });
  }
  function $n() {
    qn.forEach(function (t) {
      zn[t.commandName] = t;
    });
  }
  var Hn,
    Gn,
    Jn = null;
  function Vn(n) {
    clearTimeout(Jn),
      (Jn = setTimeout(function () {
        var t = ar(n, !0),
          e = Mn(W(Te(n, ' '), 1)[0]),
          e = e ? e.help : '';
        O.setHint(e, t);
      }, 500));
  }
  (Qn = 'history'),
    (D = bn.read(Qn) || []),
    (I = D.length),
    ((Yn = [])[I] = '');
  var Qn,
    D,
    I,
    Yn,
    Kn = {
      get: function () {
        var t = Yn[I];
        return 'string' == typeof t ? t : D[I];
      },
      prev: function () {
        return 0 < I && I--, this.get();
      },
      next: function () {
        var t = I + 1;
        return (t < D.length || t < Yn.length) && I++, this.get();
      },
      push: function (t) {
        D.push(t),
          100 < D.length && D.shift(),
          (I = D.length),
          ((Yn = [])[I] = ''),
          bn.write(Qn, D);
      },
      oninput: function (t) {
        Yn[I] = t;
      },
    },
    Xn = i(function (t) {
      var i = t.events,
        t = N.flex(1)
          .outline('none')
          .backgroundColor('transparent')
          .color('#fff')
          .border('none')
          .join(Tn.FontSize)
          .padding(0);
      return x(
        x(
          N.display('flex'),
          o(
            '#InputTitle',
            k(b((Hn = Hn || q(['webos:', ' ', '$'])), Ie, De)),
            N.marginRight(10),
            Ce.stop
          ),
          xe.model(Le)(
            '#InputInput[spellcheck=false]',
            t,
            wn,
            je('keyup')(function (t, e) {
              var n = t.keyCode,
                r = e.value;
              switch (n) {
                case 9:
                  i.ontab(r);
                  break;
                case 13:
                  r && (Kn.push(r), (Le.value = ''), i.onrun(r)),
                    setTimeout(tr),
                    t.preventDefault(),
                    O.hideHint();
                  break;
                default:
                  Kn.oninput(r);
              }
              Vn(e.value);
            }),
            je('keydown')(function (t) {
              var e = t.keyCode;
              [9, 13, 38, 40].includes(e) &&
                ((38 !== e && 40 !== e) ||
                  ('string' == typeof (e = Kn[38 === e ? 'prev' : 'next']()) &&
                    (Le.value = e)),
                t.preventDefault());
            }),
            je('blur')(function () {
              O.hideHint();
            }),
            je('focus')(function (t, e) {
              Vn(null == e ? void 0 : e.value);
            }),
            ee(function (t) {
              window.addEventListener('click', function () {
                t.focus();
              });
            })
          )
        ),
        x.show(O.enabled)(
          N.color('#777').marginTop(5),
          o.show(function () {
            return !!O.text.value;
          })(k(b((Gn = Gn || q(['Hint: ', ''])), O.text))),
          x(
            o.for(O.list)(function (t) {
              return [N.marginRight(20), k(t)];
            })
          )
        )
      );
    }),
    Zn = i(function (t) {
      t = t.props;
      return x(
        '.InputTitle',
        N.marginBottom(3),
        k(
          'webos:'
            .concat(Ie.value, ' ')
            .concat(De.value, '$ ')
            .concat(t.inputValue.value)
        )
      );
    });
  function tr() {
    document.documentElement.scrollTop = document.documentElement.offsetHeight;
  }
  var er,
    nr,
    rr = i(function (t) {
      t = t.slots;
      return x(N.marginBottom(10).wordWrap('break-word'), t);
    });
  function ir(t, e) {
    i(function () {
      return [Zn(Se({ inputValue: t })), rr(Ee(e))];
    }).mount(kn);
  }
  function or(t, e) {
    ir(t, x(P.Fail, k(e)));
  }
  function ar(t) {
    var e = 1 < arguments.length && void 0 !== arguments[1] && arguments[1],
      n = t.split(' ');
    if (1 === n.length) return ur(t, n[0], Wn(), 'command', e);
    var r = Mn(n[0]),
      i = r.hint;
    if ('none' === i) return [];
    var n = n[n.length - 1],
      o = n,
      a = [];
    return (
      'custom' === i
        ? (a = r.hintArray)
        : 'command' === i
        ? (a = Wn())
        : 'file' === i &&
          ((o = p.from(n).last),
          (r = n),
          (r = L.CurrentDir.path.join(r || './').parentPath),
          (a =
            (null == (r = L.CurrentDir.findDirByPath(r))
              ? void 0
              : r.lsDetail()) || [])),
      ur(t, o, a, i, e)
    );
  }
  function ur(t, e, n, r, i) {
    var o,
      r = 3 < arguments.length && void 0 !== r ? r : 'custom',
      i = 4 < arguments.length && void 0 !== i && i,
      a =
        'file' === r
          ? function (t) {
              return t.name;
            }
          : function (t) {
              return t;
            },
      n = n.filter(function (t) {
        return 0 === a(t).indexOf(e);
      });
    return i
      ? n.map(function (t) {
          return a(t);
        })
      : (0 === n.length
          ? or(t, 'No '.concat(r, ' found'))
          : 1 === n.length
          ? ((i =
              -1 !== (i = t.lastIndexOf(p.Back)) &&
              i === t.length - p.Back.length
                ? p.Split
                : ''),
            (i = t.substring(0, t.lastIndexOf(e)) + i + a(n[0])),
            'file' === r && n[0].isDir && (i += '/'),
            'command' === r && (i += ' '),
            (Le.value = i))
          : ((o = 'file' === r ? An : En),
            ir(
              t,
              n.map(function (t) {
                return o(t);
              })
            )),
        []);
  }
  var cr = i(function () {
      function n() {
        return l(
          void 0,
          void 0,
          void 0,
          S().mark(function t() {
            var e;
            return S().wrap(function (t) {
              for (;;)
                switch ((t.prev = t.next)) {
                  case 0:
                    return (
                      (t.next = 2),
                      null ==
                      (e = L.instance.disk.findFileByPath(_.filepath.value))
                        ? void 0
                        : e.write({ content: _.content.value })
                    );
                  case 2:
                    _.quitEdit();
                  case 3:
                  case 'end':
                    return t.stop();
                }
            }, t);
          })
        );
      }
      function r() {
        _.quitEdit();
      }
      window.addEventListener('keydown', function (t) {
        var e;
        _.enabled.value &&
          (27 === t.keyCode
            ? r()
            : 83 === (e = t).keyCode &&
              (Pe() ? e.metaKey : e.ctrlKey) &&
              (n(), t.preventDefault()));
      });
      return [
        x(
          N.color(function () {
            return _.touch.value ? P.Success._result.color : '#aaa';
          }).marginBottom(10),
          b((er = er || q(['Edit: ', ''])), _.filepath),
          b((nr = nr || q(['', ''])), function () {
            return _.touch.value ? ' (New File)' : '';
          })
        ),
        x(
          o(Dn, k('Save['.concat(Pe() ? 'command' : 'ctrl', '+s]')), Ce(n)),
          o(Dn, k('Quit[esc]'), Ce(r))
        ),
        x.model(_.content)(
          '#Editor[contenteditable=true][spellcheck=false]',
          Pn,
          je('keydown')(function (t) {
            9 === t.keyCode && t.preventDefault();
          })
        ),
      ];
    }),
    sr = i(function () {
      var t;
      return [
        i(Sn),
        Xn(
          ((t = {
            onrun: function (o) {
              return l(
                void 0,
                void 0,
                void 0,
                S().mark(function t() {
                  var e, n, r, i;
                  return S().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return (
                            (t.next = 2),
                            (function (r) {
                              return l(
                                this,
                                void 0,
                                void 0,
                                S().mark(function t() {
                                  var e, n;
                                  return S().wrap(function (t) {
                                    for (;;)
                                      switch ((t.prev = t.next)) {
                                        case 0:
                                          if (
                                            ((n = Te(r.trim(), ' ')),
                                            (n = W(n, 2)),
                                            (e = n[0]),
                                            (n = n[1]),
                                            zn[e])
                                          ) {
                                            t.next = 3;
                                            break;
                                          }
                                          return t.abrupt('return', {
                                            success: !1,
                                            message:
                                              'command not found: '.concat(e),
                                            commandName: e,
                                            args: [],
                                            result: null,
                                          });
                                        case 3:
                                          return t.abrupt(
                                            'return',
                                            zn[e].run(n.split(' '))
                                          );
                                        case 4:
                                        case 'end':
                                          return t.stop();
                                      }
                                  }, t);
                                })
                              );
                            })(o)
                          );
                        case 2:
                          if (
                            ((i = t.sent),
                            (e = i.commandName),
                            (n = i.success),
                            (r = i.message),
                            (i = i.result),
                            !n)
                          ) {
                            t.next = 13;
                            break;
                          }
                          if ('clear' === e) return t.abrupt('return');
                          t.next = 10;
                          break;
                        case 10:
                          ir(
                            o,
                            i
                              ? 'string' == typeof i
                                ? k(i)
                                : i
                              : x(
                                  Tn.SuccessColor,
                                  k('Execute command Success: '.concat(o))
                                )
                          ),
                            (t.next = 14);
                          break;
                        case 13:
                          or(o, r);
                        case 14:
                        case 'end':
                          return t.stop();
                      }
                  }, t);
                })
              );
            },
            ontab: ar,
          }),
          {
            type: 'event',
            exe: function () {
              return t;
            },
          })
        ),
      ];
    });
  function lr() {
    return x(
      '#TermApp',
      x
        .if(_.enabled)(cr)
        .else(
          sr,
          ee(function () {
            $n();
          })
        )
    );
  }
  var fr = u(function t(e) {
      a(this, t);
      e = 'string' == typeof e ? document.querySelector(e) : e;
      if (!e) throw new Error('Invalid container');
      (this.container = e), i(lr).mount(this.container);
    }),
    L = (function () {
      function e() {
        var t = (
            0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}
          ).container,
          t = void 0 === t ? 'body' : t;
        if ((a(this, e), e.instance)) return e.instance;
        (this.disk = new at()),
          (this.currentDir = this.disk),
          (this.ui = new fr(t)),
          (e.instance = this);
      }
      return (
        u(
          e,
          [
            {
              key: 'init',
              value: function () {
                return l(
                  this,
                  void 0,
                  void 0,
                  S().mark(function t() {
                    return S().wrap(
                      function (t) {
                        for (;;)
                          switch ((t.prev = t.next)) {
                            case 0:
                              return (t.next = 2), this.disk.initFileSystem();
                            case 2:
                            case 'end':
                              return t.stop();
                          }
                      },
                      t,
                      this
                    );
                  })
                );
              },
            },
          ],
          [
            {
              key: 'CurrentDir',
              get: function () {
                return this.instance.currentDir;
              },
              set: function (t) {
                this.instance.currentDir = t;
              },
            },
            {
              key: 'CurrentPath',
              get: function () {
                return this.CurrentDir.path.path;
              },
            },
          ]
        ),
        e
      );
    })();
  return (
    (R.Term = L),
    (R.createTerm = function (n) {
      return l(
        this,
        void 0,
        void 0,
        S().mark(function t() {
          var e;
          return S().wrap(function (t) {
            for (;;)
              switch ((t.prev = t.next)) {
                case 0:
                  if (L.instance) return t.abrupt('return', L.instance);
                  t.next = 2;
                  break;
                case 2:
                  return (e = new L(n)), (t.next = 5), e.init();
                case 5:
                  return t.abrupt('return', e);
                case 6:
                case 'end':
                  return t.stop();
              }
          }, t);
        })
      );
    }),
    Object.defineProperty(R, '__esModule', { value: !0 }),
    R
  );
})({});


WebosTerm.createTerm();